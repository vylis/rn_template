fe8156125e3a3a18c724fa6c1b1226d1
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _HoverState = require("./HoverState");

var _invariant = _interopRequireDefault(require("invariant"));

var _SoundManager = _interopRequireDefault(require("../Components/Sound/SoundManager"));

var _Rect = require("../StyleSheet/Rect");

var _PressabilityPerformanceEventEmitter = _interopRequireDefault(require("./PressabilityPerformanceEventEmitter.js"));

var _Platform = _interopRequireDefault(require("../Utilities/Platform"));

var _UIManager = _interopRequireDefault(require("../ReactNative/UIManager"));

var React = _interopRequireWildcard(require("react"));

var _ReactNativeFeatureFlags = _interopRequireDefault(require("../ReactNative/ReactNativeFeatureFlags"));

var _excluded = ["touchHistory"];

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var Transitions = Object.freeze({
  NOT_RESPONDER: {
    DELAY: 'ERROR',
    RESPONDER_GRANT: 'RESPONDER_INACTIVE_PRESS_IN',
    RESPONDER_RELEASE: 'ERROR',
    RESPONDER_TERMINATED: 'ERROR',
    ENTER_PRESS_RECT: 'ERROR',
    LEAVE_PRESS_RECT: 'ERROR',
    LONG_PRESS_DETECTED: 'ERROR'
  },
  RESPONDER_INACTIVE_PRESS_IN: {
    DELAY: 'RESPONDER_ACTIVE_PRESS_IN',
    RESPONDER_GRANT: 'ERROR',
    RESPONDER_RELEASE: 'NOT_RESPONDER',
    RESPONDER_TERMINATED: 'NOT_RESPONDER',
    ENTER_PRESS_RECT: 'RESPONDER_INACTIVE_PRESS_IN',
    LEAVE_PRESS_RECT: 'RESPONDER_INACTIVE_PRESS_OUT',
    LONG_PRESS_DETECTED: 'ERROR'
  },
  RESPONDER_INACTIVE_PRESS_OUT: {
    DELAY: 'RESPONDER_ACTIVE_PRESS_OUT',
    RESPONDER_GRANT: 'ERROR',
    RESPONDER_RELEASE: 'NOT_RESPONDER',
    RESPONDER_TERMINATED: 'NOT_RESPONDER',
    ENTER_PRESS_RECT: 'RESPONDER_INACTIVE_PRESS_IN',
    LEAVE_PRESS_RECT: 'RESPONDER_INACTIVE_PRESS_OUT',
    LONG_PRESS_DETECTED: 'ERROR'
  },
  RESPONDER_ACTIVE_PRESS_IN: {
    DELAY: 'ERROR',
    RESPONDER_GRANT: 'ERROR',
    RESPONDER_RELEASE: 'NOT_RESPONDER',
    RESPONDER_TERMINATED: 'NOT_RESPONDER',
    ENTER_PRESS_RECT: 'RESPONDER_ACTIVE_PRESS_IN',
    LEAVE_PRESS_RECT: 'RESPONDER_ACTIVE_PRESS_OUT',
    LONG_PRESS_DETECTED: 'RESPONDER_ACTIVE_LONG_PRESS_IN'
  },
  RESPONDER_ACTIVE_PRESS_OUT: {
    DELAY: 'ERROR',
    RESPONDER_GRANT: 'ERROR',
    RESPONDER_RELEASE: 'NOT_RESPONDER',
    RESPONDER_TERMINATED: 'NOT_RESPONDER',
    ENTER_PRESS_RECT: 'RESPONDER_ACTIVE_PRESS_IN',
    LEAVE_PRESS_RECT: 'RESPONDER_ACTIVE_PRESS_OUT',
    LONG_PRESS_DETECTED: 'ERROR'
  },
  RESPONDER_ACTIVE_LONG_PRESS_IN: {
    DELAY: 'ERROR',
    RESPONDER_GRANT: 'ERROR',
    RESPONDER_RELEASE: 'NOT_RESPONDER',
    RESPONDER_TERMINATED: 'NOT_RESPONDER',
    ENTER_PRESS_RECT: 'RESPONDER_ACTIVE_LONG_PRESS_IN',
    LEAVE_PRESS_RECT: 'RESPONDER_ACTIVE_LONG_PRESS_OUT',
    LONG_PRESS_DETECTED: 'RESPONDER_ACTIVE_LONG_PRESS_IN'
  },
  RESPONDER_ACTIVE_LONG_PRESS_OUT: {
    DELAY: 'ERROR',
    RESPONDER_GRANT: 'ERROR',
    RESPONDER_RELEASE: 'NOT_RESPONDER',
    RESPONDER_TERMINATED: 'NOT_RESPONDER',
    ENTER_PRESS_RECT: 'RESPONDER_ACTIVE_LONG_PRESS_IN',
    LEAVE_PRESS_RECT: 'RESPONDER_ACTIVE_LONG_PRESS_OUT',
    LONG_PRESS_DETECTED: 'ERROR'
  },
  ERROR: {
    DELAY: 'NOT_RESPONDER',
    RESPONDER_GRANT: 'RESPONDER_INACTIVE_PRESS_IN',
    RESPONDER_RELEASE: 'NOT_RESPONDER',
    RESPONDER_TERMINATED: 'NOT_RESPONDER',
    ENTER_PRESS_RECT: 'NOT_RESPONDER',
    LEAVE_PRESS_RECT: 'NOT_RESPONDER',
    LONG_PRESS_DETECTED: 'NOT_RESPONDER'
  }
});

var isActiveSignal = function isActiveSignal(signal) {
  return signal === 'RESPONDER_ACTIVE_PRESS_IN' || signal === 'RESPONDER_ACTIVE_LONG_PRESS_IN';
};

var isActivationSignal = function isActivationSignal(signal) {
  return signal === 'RESPONDER_ACTIVE_PRESS_OUT' || signal === 'RESPONDER_ACTIVE_PRESS_IN';
};

var isPressInSignal = function isPressInSignal(signal) {
  return signal === 'RESPONDER_INACTIVE_PRESS_IN' || signal === 'RESPONDER_ACTIVE_PRESS_IN' || signal === 'RESPONDER_ACTIVE_LONG_PRESS_IN';
};

var isTerminalSignal = function isTerminalSignal(signal) {
  return signal === 'RESPONDER_TERMINATED' || signal === 'RESPONDER_RELEASE';
};

var DEFAULT_LONG_PRESS_DELAY_MS = 500;
var DEFAULT_PRESS_RECT_OFFSETS = {
  bottom: 30,
  left: 20,
  right: 20,
  top: 20
};
var DEFAULT_MIN_PRESS_DURATION = 130;

var Pressability = function () {
  function Pressability(config) {
    var _this = this;

    (0, _classCallCheck2.default)(this, Pressability);
    this._eventHandlers = null;
    this._hoverInDelayTimeout = null;
    this._hoverOutDelayTimeout = null;
    this._isHovered = false;
    this._longPressDelayTimeout = null;
    this._pressDelayTimeout = null;
    this._pressOutDelayTimeout = null;
    this._responderID = null;
    this._responderRegion = null;
    this._touchState = 'NOT_RESPONDER';

    this._measureCallback = function (left, top, width, height, pageX, pageY) {
      if (!left && !top && !width && !height && !pageX && !pageY) {
        return;
      }

      _this._responderRegion = {
        bottom: pageY + height,
        left: pageX,
        right: pageX + width,
        top: pageY
      };
    };

    this.configure(config);
  }

  (0, _createClass2.default)(Pressability, [{
    key: "configure",
    value: function configure(config) {
      this._config = config;
    }
  }, {
    key: "reset",
    value: function reset() {
      this._cancelHoverInDelayTimeout();

      this._cancelHoverOutDelayTimeout();

      this._cancelLongPressDelayTimeout();

      this._cancelPressDelayTimeout();

      this._cancelPressOutDelayTimeout();

      this._config = Object.freeze({});
    }
  }, {
    key: "getEventHandlers",
    value: function getEventHandlers() {
      if (this._eventHandlers == null) {
        this._eventHandlers = this._createEventHandlers();
      }

      return this._eventHandlers;
    }
  }, {
    key: "_createEventHandlers",
    value: function _createEventHandlers() {
      var _this2 = this;

      var focusEventHandlers = {
        onBlur: function onBlur(event) {
          var onBlur = _this2._config.onBlur;

          if (onBlur != null) {
            onBlur(event);
          }
        },
        onFocus: function onFocus(event) {
          var onFocus = _this2._config.onFocus;

          if (onFocus != null) {
            onFocus(event);
          }
        }
      };
      var responderEventHandlers = {
        onStartShouldSetResponder: function onStartShouldSetResponder() {
          var disabled = _this2._config.disabled;

          if (disabled == null) {
            var onStartShouldSetResponder_DEPRECATED = _this2._config.onStartShouldSetResponder_DEPRECATED;
            return onStartShouldSetResponder_DEPRECATED == null ? true : onStartShouldSetResponder_DEPRECATED();
          }

          return !disabled;
        },
        onResponderGrant: function onResponderGrant(event) {
          event.persist();

          _this2._cancelPressOutDelayTimeout();

          _this2._responderID = event.currentTarget;
          _this2._touchState = 'NOT_RESPONDER';

          _this2._receiveSignal('RESPONDER_GRANT', event);

          var delayPressIn = normalizeDelay(_this2._config.delayPressIn);

          if (delayPressIn > 0) {
            _this2._pressDelayTimeout = setTimeout(function () {
              _this2._receiveSignal('DELAY', event);
            }, delayPressIn);
          } else {
            _this2._receiveSignal('DELAY', event);
          }

          var delayLongPress = normalizeDelay(_this2._config.delayLongPress, 10, DEFAULT_LONG_PRESS_DELAY_MS - delayPressIn);
          _this2._longPressDelayTimeout = setTimeout(function () {
            _this2._handleLongPress(event);
          }, delayLongPress + delayPressIn);
        },
        onResponderMove: function onResponderMove(event) {
          var onPressMove = _this2._config.onPressMove;

          if (onPressMove != null) {
            onPressMove(event);
          }

          var responderRegion = _this2._responderRegion;

          if (responderRegion == null) {
            return;
          }

          var touch = getTouchFromPressEvent(event);

          if (touch == null) {
            _this2._cancelLongPressDelayTimeout();

            _this2._receiveSignal('LEAVE_PRESS_RECT', event);

            return;
          }

          if (_this2._touchActivatePosition != null) {
            var deltaX = _this2._touchActivatePosition.pageX - touch.pageX;
            var deltaY = _this2._touchActivatePosition.pageY - touch.pageY;

            if (Math.hypot(deltaX, deltaY) > 10) {
              _this2._cancelLongPressDelayTimeout();
            }
          }

          if (_this2._isTouchWithinResponderRegion(touch, responderRegion)) {
            _this2._receiveSignal('ENTER_PRESS_RECT', event);
          } else {
            _this2._cancelLongPressDelayTimeout();

            _this2._receiveSignal('LEAVE_PRESS_RECT', event);
          }
        },
        onResponderRelease: function onResponderRelease(event) {
          _this2._receiveSignal('RESPONDER_RELEASE', event);
        },
        onResponderTerminate: function onResponderTerminate(event) {
          _this2._receiveSignal('RESPONDER_TERMINATED', event);
        },
        onResponderTerminationRequest: function onResponderTerminationRequest() {
          var cancelable = _this2._config.cancelable;

          if (cancelable == null) {
            var onResponderTerminationRequest_DEPRECATED = _this2._config.onResponderTerminationRequest_DEPRECATED;
            return onResponderTerminationRequest_DEPRECATED == null ? true : onResponderTerminationRequest_DEPRECATED();
          }

          return cancelable;
        },
        onClick: function onClick(event) {
          var _this2$_config = _this2._config,
              onPress = _this2$_config.onPress,
              disabled = _this2$_config.disabled;

          if (onPress != null && disabled !== true) {
            onPress(event);
          }
        }
      };

      if (process.env.NODE_ENV === 'test') {
        responderEventHandlers.onStartShouldSetResponder.testOnly_pressabilityConfig = function () {
          return _this2._config;
        };
      }

      if (_ReactNativeFeatureFlags.default.shouldPressibilityUseW3CPointerEventsForHover()) {
        var hoverPointerEvents = {
          onPointerEnter2: undefined,
          onPointerLeave2: undefined
        };
        var _this$_config = this._config,
            onHoverIn = _this$_config.onHoverIn,
            onHoverOut = _this$_config.onHoverOut;

        if (onHoverIn != null) {
          hoverPointerEvents.onPointerEnter2 = function (event) {
            _this2._isHovered = true;

            _this2._cancelHoverOutDelayTimeout();

            if (onHoverIn != null) {
              var delayHoverIn = normalizeDelay(_this2._config.delayHoverIn);

              if (delayHoverIn > 0) {
                event.persist();
                _this2._hoverInDelayTimeout = setTimeout(function () {
                  onHoverIn(convertPointerEventToMouseEvent(event));
                }, delayHoverIn);
              } else {
                onHoverIn(convertPointerEventToMouseEvent(event));
              }
            }
          };
        }

        if (onHoverOut != null) {
          hoverPointerEvents.onPointerLeave2 = function (event) {
            if (_this2._isHovered) {
              _this2._isHovered = false;

              _this2._cancelHoverInDelayTimeout();

              if (onHoverOut != null) {
                var delayHoverOut = normalizeDelay(_this2._config.delayHoverOut);

                if (delayHoverOut > 0) {
                  event.persist();
                  _this2._hoverOutDelayTimeout = setTimeout(function () {
                    onHoverOut(convertPointerEventToMouseEvent(event));
                  }, delayHoverOut);
                } else {
                  onHoverOut(convertPointerEventToMouseEvent(event));
                }
              }
            }
          };
        }

        return Object.assign({}, focusEventHandlers, responderEventHandlers, hoverPointerEvents);
      } else {
        var mouseEventHandlers = _Platform.default.OS === 'ios' || _Platform.default.OS === 'android' ? null : {
          onMouseEnter: function onMouseEnter(event) {
            if ((0, _HoverState.isHoverEnabled)()) {
              _this2._isHovered = true;

              _this2._cancelHoverOutDelayTimeout();

              var _onHoverIn = _this2._config.onHoverIn;

              if (_onHoverIn != null) {
                var delayHoverIn = normalizeDelay(_this2._config.delayHoverIn);

                if (delayHoverIn > 0) {
                  event.persist();
                  _this2._hoverInDelayTimeout = setTimeout(function () {
                    _onHoverIn(event);
                  }, delayHoverIn);
                } else {
                  _onHoverIn(event);
                }
              }
            }
          },
          onMouseLeave: function onMouseLeave(event) {
            if (_this2._isHovered) {
              _this2._isHovered = false;

              _this2._cancelHoverInDelayTimeout();

              var _onHoverOut = _this2._config.onHoverOut;

              if (_onHoverOut != null) {
                var delayHoverOut = normalizeDelay(_this2._config.delayHoverOut);

                if (delayHoverOut > 0) {
                  event.persist();
                  _this2._hoverInDelayTimeout = setTimeout(function () {
                    _onHoverOut(event);
                  }, delayHoverOut);
                } else {
                  _onHoverOut(event);
                }
              }
            }
          }
        };
        return Object.assign({}, focusEventHandlers, responderEventHandlers, mouseEventHandlers);
      }
    }
  }, {
    key: "_receiveSignal",
    value: function _receiveSignal(signal, event) {
      var _Transitions$prevStat;

      if (event.nativeEvent.timestamp != null) {
        _PressabilityPerformanceEventEmitter.default.emitEvent(function () {
          return {
            signal: signal,
            nativeTimestamp: event.nativeEvent.timestamp
          };
        });
      }

      var prevState = this._touchState;
      var nextState = (_Transitions$prevStat = Transitions[prevState]) == null ? void 0 : _Transitions$prevStat[signal];

      if (this._responderID == null && signal === 'RESPONDER_RELEASE') {
        return;
      }

      (0, _invariant.default)(nextState != null && nextState !== 'ERROR', 'Pressability: Invalid signal `%s` for state `%s` on responder: %s', signal, prevState, typeof this._responderID === 'number' ? this._responderID : '<<host component>>');

      if (prevState !== nextState) {
        this._performTransitionSideEffects(prevState, nextState, signal, event);

        this._touchState = nextState;
      }
    }
  }, {
    key: "_performTransitionSideEffects",
    value: function _performTransitionSideEffects(prevState, nextState, signal, event) {
      if (isTerminalSignal(signal)) {
        this._touchActivatePosition = null;

        this._cancelLongPressDelayTimeout();
      }

      var isInitialTransition = prevState === 'NOT_RESPONDER' && nextState === 'RESPONDER_INACTIVE_PRESS_IN';
      var isActivationTransition = !isActivationSignal(prevState) && isActivationSignal(nextState);

      if (isInitialTransition || isActivationTransition) {
        this._measureResponderRegion();
      }

      if (isPressInSignal(prevState) && signal === 'LONG_PRESS_DETECTED') {
        var onLongPress = this._config.onLongPress;

        if (onLongPress != null) {
          onLongPress(event);
        }
      }

      var isPrevActive = isActiveSignal(prevState);
      var isNextActive = isActiveSignal(nextState);

      if (!isPrevActive && isNextActive) {
        this._activate(event);
      } else if (isPrevActive && !isNextActive) {
        this._deactivate(event);
      }

      if (isPressInSignal(prevState) && signal === 'RESPONDER_RELEASE') {
        if (!isNextActive && !isPrevActive) {
          this._activate(event);

          this._deactivate(event);
        }

        var _this$_config2 = this._config,
            _onLongPress = _this$_config2.onLongPress,
            onPress = _this$_config2.onPress,
            android_disableSound = _this$_config2.android_disableSound;

        if (onPress != null) {
          var isPressCanceledByLongPress = _onLongPress != null && prevState === 'RESPONDER_ACTIVE_LONG_PRESS_IN' && this._shouldLongPressCancelPress();

          if (!isPressCanceledByLongPress) {
            if (_Platform.default.OS === 'android' && android_disableSound !== true) {
              _SoundManager.default.playTouchSound();
            }

            onPress(event);
          }
        }
      }

      this._cancelPressDelayTimeout();
    }
  }, {
    key: "_activate",
    value: function _activate(event) {
      var onPressIn = this._config.onPressIn;

      var _getTouchFromPressEve = getTouchFromPressEvent(event),
          pageX = _getTouchFromPressEve.pageX,
          pageY = _getTouchFromPressEve.pageY;

      this._touchActivatePosition = {
        pageX: pageX,
        pageY: pageY
      };
      this._touchActivateTime = Date.now();

      if (onPressIn != null) {
        onPressIn(event);
      }
    }
  }, {
    key: "_deactivate",
    value: function _deactivate(event) {
      var onPressOut = this._config.onPressOut;

      if (onPressOut != null) {
        var _this$_touchActivateT;

        var minPressDuration = normalizeDelay(this._config.minPressDuration, 0, DEFAULT_MIN_PRESS_DURATION);
        var pressDuration = Date.now() - ((_this$_touchActivateT = this._touchActivateTime) != null ? _this$_touchActivateT : 0);
        var delayPressOut = Math.max(minPressDuration - pressDuration, normalizeDelay(this._config.delayPressOut));

        if (delayPressOut > 0) {
          event.persist();
          this._pressOutDelayTimeout = setTimeout(function () {
            onPressOut(event);
          }, delayPressOut);
        } else {
          onPressOut(event);
        }
      }

      this._touchActivateTime = null;
    }
  }, {
    key: "_measureResponderRegion",
    value: function _measureResponderRegion() {
      if (this._responderID == null) {
        return;
      }

      if (typeof this._responderID === 'number') {
        _UIManager.default.measure(this._responderID, this._measureCallback);
      } else {
        this._responderID.measure(this._measureCallback);
      }
    }
  }, {
    key: "_isTouchWithinResponderRegion",
    value: function _isTouchWithinResponderRegion(touch, responderRegion) {
      var _pressRectOffset$bott, _pressRectOffset$left, _pressRectOffset$righ, _pressRectOffset$top;

      var hitSlop = (0, _Rect.normalizeRect)(this._config.hitSlop);
      var pressRectOffset = (0, _Rect.normalizeRect)(this._config.pressRectOffset);
      var regionBottom = responderRegion.bottom;
      var regionLeft = responderRegion.left;
      var regionRight = responderRegion.right;
      var regionTop = responderRegion.top;

      if (hitSlop != null) {
        if (hitSlop.bottom != null) {
          regionBottom += hitSlop.bottom;
        }

        if (hitSlop.left != null) {
          regionLeft -= hitSlop.left;
        }

        if (hitSlop.right != null) {
          regionRight += hitSlop.right;
        }

        if (hitSlop.top != null) {
          regionTop -= hitSlop.top;
        }
      }

      regionBottom += (_pressRectOffset$bott = pressRectOffset == null ? void 0 : pressRectOffset.bottom) != null ? _pressRectOffset$bott : DEFAULT_PRESS_RECT_OFFSETS.bottom;
      regionLeft -= (_pressRectOffset$left = pressRectOffset == null ? void 0 : pressRectOffset.left) != null ? _pressRectOffset$left : DEFAULT_PRESS_RECT_OFFSETS.left;
      regionRight += (_pressRectOffset$righ = pressRectOffset == null ? void 0 : pressRectOffset.right) != null ? _pressRectOffset$righ : DEFAULT_PRESS_RECT_OFFSETS.right;
      regionTop -= (_pressRectOffset$top = pressRectOffset == null ? void 0 : pressRectOffset.top) != null ? _pressRectOffset$top : DEFAULT_PRESS_RECT_OFFSETS.top;
      return touch.pageX > regionLeft && touch.pageX < regionRight && touch.pageY > regionTop && touch.pageY < regionBottom;
    }
  }, {
    key: "_handleLongPress",
    value: function _handleLongPress(event) {
      if (this._touchState === 'RESPONDER_ACTIVE_PRESS_IN' || this._touchState === 'RESPONDER_ACTIVE_LONG_PRESS_IN') {
        this._receiveSignal('LONG_PRESS_DETECTED', event);
      }
    }
  }, {
    key: "_shouldLongPressCancelPress",
    value: function _shouldLongPressCancelPress() {
      return this._config.onLongPressShouldCancelPress_DEPRECATED == null || this._config.onLongPressShouldCancelPress_DEPRECATED();
    }
  }, {
    key: "_cancelHoverInDelayTimeout",
    value: function _cancelHoverInDelayTimeout() {
      if (this._hoverInDelayTimeout != null) {
        clearTimeout(this._hoverInDelayTimeout);
        this._hoverInDelayTimeout = null;
      }
    }
  }, {
    key: "_cancelHoverOutDelayTimeout",
    value: function _cancelHoverOutDelayTimeout() {
      if (this._hoverOutDelayTimeout != null) {
        clearTimeout(this._hoverOutDelayTimeout);
        this._hoverOutDelayTimeout = null;
      }
    }
  }, {
    key: "_cancelLongPressDelayTimeout",
    value: function _cancelLongPressDelayTimeout() {
      if (this._longPressDelayTimeout != null) {
        clearTimeout(this._longPressDelayTimeout);
        this._longPressDelayTimeout = null;
      }
    }
  }, {
    key: "_cancelPressDelayTimeout",
    value: function _cancelPressDelayTimeout() {
      if (this._pressDelayTimeout != null) {
        clearTimeout(this._pressDelayTimeout);
        this._pressDelayTimeout = null;
      }
    }
  }, {
    key: "_cancelPressOutDelayTimeout",
    value: function _cancelPressOutDelayTimeout() {
      if (this._pressOutDelayTimeout != null) {
        clearTimeout(this._pressOutDelayTimeout);
        this._pressOutDelayTimeout = null;
      }
    }
  }]);
  return Pressability;
}();

exports.default = Pressability;

function normalizeDelay(delay) {
  var min = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
  var fallback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
  return Math.max(min, delay != null ? delay : fallback);
}

var getTouchFromPressEvent = function getTouchFromPressEvent(event) {
  var _event$nativeEvent = event.nativeEvent,
      changedTouches = _event$nativeEvent.changedTouches,
      touches = _event$nativeEvent.touches;

  if (touches != null && touches.length > 0) {
    return touches[0];
  }

  if (changedTouches != null && changedTouches.length > 0) {
    return changedTouches[0];
  }

  return event.nativeEvent;
};

function convertPointerEventToMouseEvent(input) {
  var _ = input.touchHistory,
      synthEvent = (0, _objectWithoutProperties2.default)(input, _excluded);
  var _input$nativeEvent = input.nativeEvent,
      clientX = _input$nativeEvent.clientX,
      clientY = _input$nativeEvent.clientY,
      timestamp = _input$nativeEvent.timestamp;
  return Object.assign({}, synthEvent, {
    nativeEvent: {
      clientX: clientX,
      clientY: clientY,
      pageX: clientX,
      pageY: clientY,
      timestamp: timestamp
    }
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJUcmFuc2l0aW9ucyIsIk9iamVjdCIsImZyZWV6ZSIsIk5PVF9SRVNQT05ERVIiLCJERUxBWSIsIlJFU1BPTkRFUl9HUkFOVCIsIlJFU1BPTkRFUl9SRUxFQVNFIiwiUkVTUE9OREVSX1RFUk1JTkFURUQiLCJFTlRFUl9QUkVTU19SRUNUIiwiTEVBVkVfUFJFU1NfUkVDVCIsIkxPTkdfUFJFU1NfREVURUNURUQiLCJSRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfSU4iLCJSRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfT1VUIiwiUkVTUE9OREVSX0FDVElWRV9QUkVTU19JTiIsIlJFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfT1VUIiwiUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX0lOIiwiUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX09VVCIsIkVSUk9SIiwiaXNBY3RpdmVTaWduYWwiLCJzaWduYWwiLCJpc0FjdGl2YXRpb25TaWduYWwiLCJpc1ByZXNzSW5TaWduYWwiLCJpc1Rlcm1pbmFsU2lnbmFsIiwiREVGQVVMVF9MT05HX1BSRVNTX0RFTEFZX01TIiwiREVGQVVMVF9QUkVTU19SRUNUX09GRlNFVFMiLCJib3R0b20iLCJsZWZ0IiwicmlnaHQiLCJ0b3AiLCJERUZBVUxUX01JTl9QUkVTU19EVVJBVElPTiIsIlByZXNzYWJpbGl0eSIsImNvbmZpZyIsIl9ldmVudEhhbmRsZXJzIiwiX2hvdmVySW5EZWxheVRpbWVvdXQiLCJfaG92ZXJPdXREZWxheVRpbWVvdXQiLCJfaXNIb3ZlcmVkIiwiX2xvbmdQcmVzc0RlbGF5VGltZW91dCIsIl9wcmVzc0RlbGF5VGltZW91dCIsIl9wcmVzc091dERlbGF5VGltZW91dCIsIl9yZXNwb25kZXJJRCIsIl9yZXNwb25kZXJSZWdpb24iLCJfdG91Y2hTdGF0ZSIsIl9tZWFzdXJlQ2FsbGJhY2siLCJ3aWR0aCIsImhlaWdodCIsInBhZ2VYIiwicGFnZVkiLCJjb25maWd1cmUiLCJfY29uZmlnIiwiX2NhbmNlbEhvdmVySW5EZWxheVRpbWVvdXQiLCJfY2FuY2VsSG92ZXJPdXREZWxheVRpbWVvdXQiLCJfY2FuY2VsTG9uZ1ByZXNzRGVsYXlUaW1lb3V0IiwiX2NhbmNlbFByZXNzRGVsYXlUaW1lb3V0IiwiX2NhbmNlbFByZXNzT3V0RGVsYXlUaW1lb3V0IiwiX2NyZWF0ZUV2ZW50SGFuZGxlcnMiLCJmb2N1c0V2ZW50SGFuZGxlcnMiLCJvbkJsdXIiLCJldmVudCIsIm9uRm9jdXMiLCJyZXNwb25kZXJFdmVudEhhbmRsZXJzIiwib25TdGFydFNob3VsZFNldFJlc3BvbmRlciIsImRpc2FibGVkIiwib25TdGFydFNob3VsZFNldFJlc3BvbmRlcl9ERVBSRUNBVEVEIiwib25SZXNwb25kZXJHcmFudCIsInBlcnNpc3QiLCJjdXJyZW50VGFyZ2V0IiwiX3JlY2VpdmVTaWduYWwiLCJkZWxheVByZXNzSW4iLCJub3JtYWxpemVEZWxheSIsInNldFRpbWVvdXQiLCJkZWxheUxvbmdQcmVzcyIsIl9oYW5kbGVMb25nUHJlc3MiLCJvblJlc3BvbmRlck1vdmUiLCJvblByZXNzTW92ZSIsInJlc3BvbmRlclJlZ2lvbiIsInRvdWNoIiwiZ2V0VG91Y2hGcm9tUHJlc3NFdmVudCIsIl90b3VjaEFjdGl2YXRlUG9zaXRpb24iLCJkZWx0YVgiLCJkZWx0YVkiLCJNYXRoIiwiaHlwb3QiLCJfaXNUb3VjaFdpdGhpblJlc3BvbmRlclJlZ2lvbiIsIm9uUmVzcG9uZGVyUmVsZWFzZSIsIm9uUmVzcG9uZGVyVGVybWluYXRlIiwib25SZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3QiLCJjYW5jZWxhYmxlIiwib25SZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3RfREVQUkVDQVRFRCIsIm9uQ2xpY2siLCJvblByZXNzIiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwidGVzdE9ubHlfcHJlc3NhYmlsaXR5Q29uZmlnIiwiUmVhY3ROYXRpdmVGZWF0dXJlRmxhZ3MiLCJzaG91bGRQcmVzc2liaWxpdHlVc2VXM0NQb2ludGVyRXZlbnRzRm9ySG92ZXIiLCJob3ZlclBvaW50ZXJFdmVudHMiLCJvblBvaW50ZXJFbnRlcjIiLCJ1bmRlZmluZWQiLCJvblBvaW50ZXJMZWF2ZTIiLCJvbkhvdmVySW4iLCJvbkhvdmVyT3V0IiwiZGVsYXlIb3ZlckluIiwiY29udmVydFBvaW50ZXJFdmVudFRvTW91c2VFdmVudCIsImRlbGF5SG92ZXJPdXQiLCJtb3VzZUV2ZW50SGFuZGxlcnMiLCJQbGF0Zm9ybSIsIk9TIiwib25Nb3VzZUVudGVyIiwiaXNIb3ZlckVuYWJsZWQiLCJvbk1vdXNlTGVhdmUiLCJuYXRpdmVFdmVudCIsInRpbWVzdGFtcCIsIlByZXNzYWJpbGl0eVBlcmZvcm1hbmNlRXZlbnRFbWl0dGVyIiwiZW1pdEV2ZW50IiwibmF0aXZlVGltZXN0YW1wIiwicHJldlN0YXRlIiwibmV4dFN0YXRlIiwiaW52YXJpYW50IiwiX3BlcmZvcm1UcmFuc2l0aW9uU2lkZUVmZmVjdHMiLCJpc0luaXRpYWxUcmFuc2l0aW9uIiwiaXNBY3RpdmF0aW9uVHJhbnNpdGlvbiIsIl9tZWFzdXJlUmVzcG9uZGVyUmVnaW9uIiwib25Mb25nUHJlc3MiLCJpc1ByZXZBY3RpdmUiLCJpc05leHRBY3RpdmUiLCJfYWN0aXZhdGUiLCJfZGVhY3RpdmF0ZSIsImFuZHJvaWRfZGlzYWJsZVNvdW5kIiwiaXNQcmVzc0NhbmNlbGVkQnlMb25nUHJlc3MiLCJfc2hvdWxkTG9uZ1ByZXNzQ2FuY2VsUHJlc3MiLCJTb3VuZE1hbmFnZXIiLCJwbGF5VG91Y2hTb3VuZCIsIm9uUHJlc3NJbiIsIl90b3VjaEFjdGl2YXRlVGltZSIsIkRhdGUiLCJub3ciLCJvblByZXNzT3V0IiwibWluUHJlc3NEdXJhdGlvbiIsInByZXNzRHVyYXRpb24iLCJkZWxheVByZXNzT3V0IiwibWF4IiwiVUlNYW5hZ2VyIiwibWVhc3VyZSIsImhpdFNsb3AiLCJub3JtYWxpemVSZWN0IiwicHJlc3NSZWN0T2Zmc2V0IiwicmVnaW9uQm90dG9tIiwicmVnaW9uTGVmdCIsInJlZ2lvblJpZ2h0IiwicmVnaW9uVG9wIiwib25Mb25nUHJlc3NTaG91bGRDYW5jZWxQcmVzc19ERVBSRUNBVEVEIiwiY2xlYXJUaW1lb3V0IiwiZGVsYXkiLCJtaW4iLCJmYWxsYmFjayIsImNoYW5nZWRUb3VjaGVzIiwidG91Y2hlcyIsImxlbmd0aCIsImlucHV0IiwiXyIsInRvdWNoSGlzdG9yeSIsInN5bnRoRXZlbnQiLCJjbGllbnRYIiwiY2xpZW50WSJdLCJzb3VyY2VzIjpbIlByZXNzYWJpbGl0eS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZsb3cgc3RyaWN0LWxvY2FsXG4gKiBAZm9ybWF0XG4gKi9cblxuaW1wb3J0IHtpc0hvdmVyRW5hYmxlZH0gZnJvbSAnLi9Ib3ZlclN0YXRlJztcbmltcG9ydCBpbnZhcmlhbnQgZnJvbSAnaW52YXJpYW50JztcbmltcG9ydCBTb3VuZE1hbmFnZXIgZnJvbSAnLi4vQ29tcG9uZW50cy9Tb3VuZC9Tb3VuZE1hbmFnZXInO1xuaW1wb3J0IHtub3JtYWxpemVSZWN0LCB0eXBlIFJlY3RPclNpemV9IGZyb20gJy4uL1N0eWxlU2hlZXQvUmVjdCc7XG5pbXBvcnQgdHlwZSB7XG4gIEJsdXJFdmVudCxcbiAgRm9jdXNFdmVudCxcbiAgUHJlc3NFdmVudCxcbiAgTW91c2VFdmVudCxcbn0gZnJvbSAnLi4vVHlwZXMvQ29yZUV2ZW50VHlwZXMnO1xuaW1wb3J0IFByZXNzYWJpbGl0eVBlcmZvcm1hbmNlRXZlbnRFbWl0dGVyIGZyb20gJy4vUHJlc3NhYmlsaXR5UGVyZm9ybWFuY2VFdmVudEVtaXR0ZXIuanMnO1xuaW1wb3J0IHt0eXBlIFByZXNzYWJpbGl0eVRvdWNoU2lnbmFsIGFzIFRvdWNoU2lnbmFsfSBmcm9tICcuL1ByZXNzYWJpbGl0eVR5cGVzLmpzJztcbmltcG9ydCBQbGF0Zm9ybSBmcm9tICcuLi9VdGlsaXRpZXMvUGxhdGZvcm0nO1xuaW1wb3J0IFVJTWFuYWdlciBmcm9tICcuLi9SZWFjdE5hdGl2ZS9VSU1hbmFnZXInO1xuaW1wb3J0IHR5cGUge0hvc3RDb21wb25lbnR9IGZyb20gJy4uL1JlbmRlcmVyL3NoaW1zL1JlYWN0TmF0aXZlVHlwZXMnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0TmF0aXZlRmVhdHVyZUZsYWdzIGZyb20gJy4uL1JlYWN0TmF0aXZlL1JlYWN0TmF0aXZlRmVhdHVyZUZsYWdzJztcbmltcG9ydCB7dHlwZSBQb2ludGVyRXZlbnR9IGZyb20gJy4uL1R5cGVzL0NvcmVFdmVudFR5cGVzJztcblxuZXhwb3J0IHR5cGUgUHJlc3NhYmlsaXR5Q29uZmlnID0gJFJlYWRPbmx5PHt8XG4gIC8qKlxuICAgKiBXaGV0aGVyIGEgcHJlc3MgZ2VzdHVyZSBjYW4gYmUgaW50ZXJydXB0ZWQgYnkgYSBwYXJlbnQgZ2VzdHVyZSBzdWNoIGFzIGFcbiAgICogc2Nyb2xsIGV2ZW50LiBEZWZhdWx0cyB0byB0cnVlLlxuICAgKi9cbiAgY2FuY2VsYWJsZT86ID9ib29sZWFuLFxuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIGRpc2FibGUgaW5pdGlhbGl6YXRpb24gb2YgdGhlIHByZXNzIGdlc3R1cmUuXG4gICAqL1xuICBkaXNhYmxlZD86ID9ib29sZWFuLFxuXG4gIC8qKlxuICAgKiBBbW91bnQgdG8gZXh0ZW5kIHRoZSBgVmlzdWFsUmVjdGAgYnkgdG8gY3JlYXRlIGBIaXRSZWN0YC5cbiAgICovXG4gIGhpdFNsb3A/OiA/UmVjdE9yU2l6ZSxcblxuICAvKipcbiAgICogQW1vdW50IHRvIGV4dGVuZCB0aGUgYEhpdFJlY3RgIGJ5IHRvIGNyZWF0ZSBgUHJlc3NSZWN0YC5cbiAgICovXG4gIHByZXNzUmVjdE9mZnNldD86ID9SZWN0T3JTaXplLFxuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIGRpc2FibGUgdGhlIHN5c3RlbW0gc291bmQgd2hlbiBgb25QcmVzc2AgZmlyZXMgb24gQW5kcm9pZC5cbiAgICoqL1xuICBhbmRyb2lkX2Rpc2FibGVTb3VuZD86ID9ib29sZWFuLFxuXG4gIC8qKlxuICAgKiBEdXJhdGlvbiB0byB3YWl0IGFmdGVyIGhvdmVyIGluIGJlZm9yZSBjYWxsaW5nIGBvbkhvdmVySW5gLlxuICAgKi9cbiAgZGVsYXlIb3ZlckluPzogP251bWJlcixcblxuICAvKipcbiAgICogRHVyYXRpb24gdG8gd2FpdCBhZnRlciBob3ZlciBvdXQgYmVmb3JlIGNhbGxpbmcgYG9uSG92ZXJPdXRgLlxuICAgKi9cbiAgZGVsYXlIb3Zlck91dD86ID9udW1iZXIsXG5cbiAgLyoqXG4gICAqIER1cmF0aW9uIChpbiBhZGRpdGlvbiB0byBgZGVsYXlQcmVzc0luYCkgYWZ0ZXIgd2hpY2ggYSBwcmVzcyBnZXN0dXJlIGlzXG4gICAqIGNvbnNpZGVyZWQgYSBsb25nIHByZXNzIGdlc3R1cmUuIERlZmF1bHRzIHRvIDUwMCAobWlsbGlzZWNvbmRzKS5cbiAgICovXG4gIGRlbGF5TG9uZ1ByZXNzPzogP251bWJlcixcblxuICAvKipcbiAgICogRHVyYXRpb24gdG8gd2FpdCBhZnRlciBwcmVzcyBkb3duIGJlZm9yZSBjYWxsaW5nIGBvblByZXNzSW5gLlxuICAgKi9cbiAgZGVsYXlQcmVzc0luPzogP251bWJlcixcblxuICAvKipcbiAgICogRHVyYXRpb24gdG8gd2FpdCBhZnRlciBsZXR0aW5nIHVwIGJlZm9yZSBjYWxsaW5nIGBvblByZXNzT3V0YC5cbiAgICovXG4gIGRlbGF5UHJlc3NPdXQ/OiA/bnVtYmVyLFxuXG4gIC8qKlxuICAgKiBNaW5pbXVtIGR1cmF0aW9uIHRvIHdhaXQgYmV0d2VlbiBjYWxsaW5nIGBvblByZXNzSW5gIGFuZCBgb25QcmVzc091dGAuXG4gICAqL1xuICBtaW5QcmVzc0R1cmF0aW9uPzogP251bWJlcixcblxuICAvKipcbiAgICogQ2FsbGVkIGFmdGVyIHRoZSBlbGVtZW50IGxvc2VzIGZvY3VzLlxuICAgKi9cbiAgb25CbHVyPzogPyhldmVudDogQmx1ckV2ZW50KSA9PiBtaXhlZCxcblxuICAvKipcbiAgICogQ2FsbGVkIGFmdGVyIHRoZSBlbGVtZW50IGlzIGZvY3VzZWQuXG4gICAqL1xuICBvbkZvY3VzPzogPyhldmVudDogRm9jdXNFdmVudCkgPT4gbWl4ZWQsXG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSBob3ZlciBpcyBhY3RpdmF0ZWQgdG8gcHJvdmlkZSB2aXN1YWwgZmVlZGJhY2suXG4gICAqL1xuICBvbkhvdmVySW4/OiA/KGV2ZW50OiBNb3VzZUV2ZW50KSA9PiBtaXhlZCxcblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gdGhlIGhvdmVyIGlzIGRlYWN0aXZhdGVkIHRvIHVuZG8gdmlzdWFsIGZlZWRiYWNrLlxuICAgKi9cbiAgb25Ib3Zlck91dD86ID8oZXZlbnQ6IE1vdXNlRXZlbnQpID0+IG1peGVkLFxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBhIGxvbmcgcHJlc3MgZ2VzdHVyZSBoYXMgYmVlbiB0cmlnZ2VyZWQuXG4gICAqL1xuICBvbkxvbmdQcmVzcz86ID8oZXZlbnQ6IFByZXNzRXZlbnQpID0+IG1peGVkLFxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBhIHByZXNzIGdlc3R1dGUgaGFzIGJlZW4gdHJpZ2dlcmVkLlxuICAgKi9cbiAgb25QcmVzcz86ID8oZXZlbnQ6IFByZXNzRXZlbnQpID0+IG1peGVkLFxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUgcHJlc3MgaXMgYWN0aXZhdGVkIHRvIHByb3ZpZGUgdmlzdWFsIGZlZWRiYWNrLlxuICAgKi9cbiAgb25QcmVzc0luPzogPyhldmVudDogUHJlc3NFdmVudCkgPT4gbWl4ZWQsXG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSBwcmVzcyBsb2NhdGlvbiBtb3Zlcy4gKFRoaXMgc2hvdWxkIHJhcmVseSBiZSB1c2VkLilcbiAgICovXG4gIG9uUHJlc3NNb3ZlPzogPyhldmVudDogUHJlc3NFdmVudCkgPT4gbWl4ZWQsXG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSBwcmVzcyBpcyBkZWFjdGl2YXRlZCB0byB1bmRvIHZpc3VhbCBmZWVkYmFjay5cbiAgICovXG4gIG9uUHJlc3NPdXQ/OiA/KGV2ZW50OiBQcmVzc0V2ZW50KSA9PiBtaXhlZCxcblxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIGEgbG9uZyBwcmVzcyBnZXN0dXJlIHNob3VsZCBjYW5jZWwgdGhlIHByZXNzIGdlc3R1cmUuXG4gICAqIERlZmF1bHRzIHRvIHRydWUuXG4gICAqL1xuICBvbkxvbmdQcmVzc1Nob3VsZENhbmNlbFByZXNzX0RFUFJFQ0FURUQ/OiA/KCkgPT4gYm9vbGVhbixcblxuICAvKipcbiAgICogSWYgYGNhbmNlbGFibGVgIGlzIHNldCwgdGhpcyB3aWxsIGJlIGlnbm9yZWQuXG4gICAqXG4gICAqIFJldHVybnMgd2hldGhlciB0byB5aWVsZCB0byBhIGxvY2sgdGVybWluYXRpb24gcmVxdWVzdCAoZS5nLiBpZiBhIG5hdGl2ZVxuICAgKiBzY3JvbGwgZ2VzdHVyZSBhdHRlbXB0cyB0byBzdGVhbCB0aGUgcmVzcG9uZGVyIGxvY2spLlxuICAgKi9cbiAgb25SZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3RfREVQUkVDQVRFRD86ID8oKSA9PiBib29sZWFuLFxuXG4gIC8qKlxuICAgKiBJZiBgZGlzYWJsZWRgIGlzIHNldCwgdGhpcyB3aWxsIGJlIGlnbm9yZWQuXG4gICAqXG4gICAqIFJldHVybnMgd2hldGhlciB0byBzdGFydCBhIHByZXNzIGdlc3R1cmUuXG4gICAqXG4gICAqIEBkZXByZWNhdGVkXG4gICAqL1xuICBvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyX0RFUFJFQ0FURUQ/OiA/KCkgPT4gYm9vbGVhbixcbnx9PjtcblxuZXhwb3J0IHR5cGUgRXZlbnRIYW5kbGVycyA9ICRSZWFkT25seTx7fFxuICBvbkJsdXI6IChldmVudDogQmx1ckV2ZW50KSA9PiB2b2lkLFxuICBvbkNsaWNrOiAoZXZlbnQ6IFByZXNzRXZlbnQpID0+IHZvaWQsXG4gIG9uRm9jdXM6IChldmVudDogRm9jdXNFdmVudCkgPT4gdm9pZCxcbiAgb25Nb3VzZUVudGVyPzogKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB2b2lkLFxuICBvbk1vdXNlTGVhdmU/OiAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHZvaWQsXG4gIG9uUG9pbnRlckVudGVyMj86IChldmVudDogUG9pbnRlckV2ZW50KSA9PiB2b2lkLFxuICBvblBvaW50ZXJMZWF2ZTI/OiAoZXZlbnQ6IFBvaW50ZXJFdmVudCkgPT4gdm9pZCxcbiAgb25SZXNwb25kZXJHcmFudDogKGV2ZW50OiBQcmVzc0V2ZW50KSA9PiB2b2lkLFxuICBvblJlc3BvbmRlck1vdmU6IChldmVudDogUHJlc3NFdmVudCkgPT4gdm9pZCxcbiAgb25SZXNwb25kZXJSZWxlYXNlOiAoZXZlbnQ6IFByZXNzRXZlbnQpID0+IHZvaWQsXG4gIG9uUmVzcG9uZGVyVGVybWluYXRlOiAoZXZlbnQ6IFByZXNzRXZlbnQpID0+IHZvaWQsXG4gIG9uUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0OiAoKSA9PiBib29sZWFuLFxuICBvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyOiAoKSA9PiBib29sZWFuLFxufH0+O1xuXG50eXBlIFRvdWNoU3RhdGUgPVxuICB8ICdOT1RfUkVTUE9OREVSJ1xuICB8ICdSRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfSU4nXG4gIHwgJ1JFU1BPTkRFUl9JTkFDVElWRV9QUkVTU19PVVQnXG4gIHwgJ1JFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfSU4nXG4gIHwgJ1JFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfT1VUJ1xuICB8ICdSRVNQT05ERVJfQUNUSVZFX0xPTkdfUFJFU1NfSU4nXG4gIHwgJ1JFU1BPTkRFUl9BQ1RJVkVfTE9OR19QUkVTU19PVVQnXG4gIHwgJ0VSUk9SJztcblxuY29uc3QgVHJhbnNpdGlvbnMgPSBPYmplY3QuZnJlZXplKHtcbiAgTk9UX1JFU1BPTkRFUjoge1xuICAgIERFTEFZOiAnRVJST1InLFxuICAgIFJFU1BPTkRFUl9HUkFOVDogJ1JFU1BPTkRFUl9JTkFDVElWRV9QUkVTU19JTicsXG4gICAgUkVTUE9OREVSX1JFTEVBU0U6ICdFUlJPUicsXG4gICAgUkVTUE9OREVSX1RFUk1JTkFURUQ6ICdFUlJPUicsXG4gICAgRU5URVJfUFJFU1NfUkVDVDogJ0VSUk9SJyxcbiAgICBMRUFWRV9QUkVTU19SRUNUOiAnRVJST1InLFxuICAgIExPTkdfUFJFU1NfREVURUNURUQ6ICdFUlJPUicsXG4gIH0sXG4gIFJFU1BPTkRFUl9JTkFDVElWRV9QUkVTU19JTjoge1xuICAgIERFTEFZOiAnUkVTUE9OREVSX0FDVElWRV9QUkVTU19JTicsXG4gICAgUkVTUE9OREVSX0dSQU5UOiAnRVJST1InLFxuICAgIFJFU1BPTkRFUl9SRUxFQVNFOiAnTk9UX1JFU1BPTkRFUicsXG4gICAgUkVTUE9OREVSX1RFUk1JTkFURUQ6ICdOT1RfUkVTUE9OREVSJyxcbiAgICBFTlRFUl9QUkVTU19SRUNUOiAnUkVTUE9OREVSX0lOQUNUSVZFX1BSRVNTX0lOJyxcbiAgICBMRUFWRV9QUkVTU19SRUNUOiAnUkVTUE9OREVSX0lOQUNUSVZFX1BSRVNTX09VVCcsXG4gICAgTE9OR19QUkVTU19ERVRFQ1RFRDogJ0VSUk9SJyxcbiAgfSxcbiAgUkVTUE9OREVSX0lOQUNUSVZFX1BSRVNTX09VVDoge1xuICAgIERFTEFZOiAnUkVTUE9OREVSX0FDVElWRV9QUkVTU19PVVQnLFxuICAgIFJFU1BPTkRFUl9HUkFOVDogJ0VSUk9SJyxcbiAgICBSRVNQT05ERVJfUkVMRUFTRTogJ05PVF9SRVNQT05ERVInLFxuICAgIFJFU1BPTkRFUl9URVJNSU5BVEVEOiAnTk9UX1JFU1BPTkRFUicsXG4gICAgRU5URVJfUFJFU1NfUkVDVDogJ1JFU1BPTkRFUl9JTkFDVElWRV9QUkVTU19JTicsXG4gICAgTEVBVkVfUFJFU1NfUkVDVDogJ1JFU1BPTkRFUl9JTkFDVElWRV9QUkVTU19PVVQnLFxuICAgIExPTkdfUFJFU1NfREVURUNURUQ6ICdFUlJPUicsXG4gIH0sXG4gIFJFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfSU46IHtcbiAgICBERUxBWTogJ0VSUk9SJyxcbiAgICBSRVNQT05ERVJfR1JBTlQ6ICdFUlJPUicsXG4gICAgUkVTUE9OREVSX1JFTEVBU0U6ICdOT1RfUkVTUE9OREVSJyxcbiAgICBSRVNQT05ERVJfVEVSTUlOQVRFRDogJ05PVF9SRVNQT05ERVInLFxuICAgIEVOVEVSX1BSRVNTX1JFQ1Q6ICdSRVNQT05ERVJfQUNUSVZFX1BSRVNTX0lOJyxcbiAgICBMRUFWRV9QUkVTU19SRUNUOiAnUkVTUE9OREVSX0FDVElWRV9QUkVTU19PVVQnLFxuICAgIExPTkdfUFJFU1NfREVURUNURUQ6ICdSRVNQT05ERVJfQUNUSVZFX0xPTkdfUFJFU1NfSU4nLFxuICB9LFxuICBSRVNQT05ERVJfQUNUSVZFX1BSRVNTX09VVDoge1xuICAgIERFTEFZOiAnRVJST1InLFxuICAgIFJFU1BPTkRFUl9HUkFOVDogJ0VSUk9SJyxcbiAgICBSRVNQT05ERVJfUkVMRUFTRTogJ05PVF9SRVNQT05ERVInLFxuICAgIFJFU1BPTkRFUl9URVJNSU5BVEVEOiAnTk9UX1JFU1BPTkRFUicsXG4gICAgRU5URVJfUFJFU1NfUkVDVDogJ1JFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfSU4nLFxuICAgIExFQVZFX1BSRVNTX1JFQ1Q6ICdSRVNQT05ERVJfQUNUSVZFX1BSRVNTX09VVCcsXG4gICAgTE9OR19QUkVTU19ERVRFQ1RFRDogJ0VSUk9SJyxcbiAgfSxcbiAgUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX0lOOiB7XG4gICAgREVMQVk6ICdFUlJPUicsXG4gICAgUkVTUE9OREVSX0dSQU5UOiAnRVJST1InLFxuICAgIFJFU1BPTkRFUl9SRUxFQVNFOiAnTk9UX1JFU1BPTkRFUicsXG4gICAgUkVTUE9OREVSX1RFUk1JTkFURUQ6ICdOT1RfUkVTUE9OREVSJyxcbiAgICBFTlRFUl9QUkVTU19SRUNUOiAnUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX0lOJyxcbiAgICBMRUFWRV9QUkVTU19SRUNUOiAnUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX09VVCcsXG4gICAgTE9OR19QUkVTU19ERVRFQ1RFRDogJ1JFU1BPTkRFUl9BQ1RJVkVfTE9OR19QUkVTU19JTicsXG4gIH0sXG4gIFJFU1BPTkRFUl9BQ1RJVkVfTE9OR19QUkVTU19PVVQ6IHtcbiAgICBERUxBWTogJ0VSUk9SJyxcbiAgICBSRVNQT05ERVJfR1JBTlQ6ICdFUlJPUicsXG4gICAgUkVTUE9OREVSX1JFTEVBU0U6ICdOT1RfUkVTUE9OREVSJyxcbiAgICBSRVNQT05ERVJfVEVSTUlOQVRFRDogJ05PVF9SRVNQT05ERVInLFxuICAgIEVOVEVSX1BSRVNTX1JFQ1Q6ICdSRVNQT05ERVJfQUNUSVZFX0xPTkdfUFJFU1NfSU4nLFxuICAgIExFQVZFX1BSRVNTX1JFQ1Q6ICdSRVNQT05ERVJfQUNUSVZFX0xPTkdfUFJFU1NfT1VUJyxcbiAgICBMT05HX1BSRVNTX0RFVEVDVEVEOiAnRVJST1InLFxuICB9LFxuICBFUlJPUjoge1xuICAgIERFTEFZOiAnTk9UX1JFU1BPTkRFUicsXG4gICAgUkVTUE9OREVSX0dSQU5UOiAnUkVTUE9OREVSX0lOQUNUSVZFX1BSRVNTX0lOJyxcbiAgICBSRVNQT05ERVJfUkVMRUFTRTogJ05PVF9SRVNQT05ERVInLFxuICAgIFJFU1BPTkRFUl9URVJNSU5BVEVEOiAnTk9UX1JFU1BPTkRFUicsXG4gICAgRU5URVJfUFJFU1NfUkVDVDogJ05PVF9SRVNQT05ERVInLFxuICAgIExFQVZFX1BSRVNTX1JFQ1Q6ICdOT1RfUkVTUE9OREVSJyxcbiAgICBMT05HX1BSRVNTX0RFVEVDVEVEOiAnTk9UX1JFU1BPTkRFUicsXG4gIH0sXG59KTtcblxuY29uc3QgaXNBY3RpdmVTaWduYWwgPSBzaWduYWwgPT5cbiAgc2lnbmFsID09PSAnUkVTUE9OREVSX0FDVElWRV9QUkVTU19JTicgfHxcbiAgc2lnbmFsID09PSAnUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX0lOJztcblxuY29uc3QgaXNBY3RpdmF0aW9uU2lnbmFsID0gc2lnbmFsID0+XG4gIHNpZ25hbCA9PT0gJ1JFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfT1VUJyB8fFxuICBzaWduYWwgPT09ICdSRVNQT05ERVJfQUNUSVZFX1BSRVNTX0lOJztcblxuY29uc3QgaXNQcmVzc0luU2lnbmFsID0gc2lnbmFsID0+XG4gIHNpZ25hbCA9PT0gJ1JFU1BPTkRFUl9JTkFDVElWRV9QUkVTU19JTicgfHxcbiAgc2lnbmFsID09PSAnUkVTUE9OREVSX0FDVElWRV9QUkVTU19JTicgfHxcbiAgc2lnbmFsID09PSAnUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX0lOJztcblxuY29uc3QgaXNUZXJtaW5hbFNpZ25hbCA9IHNpZ25hbCA9PlxuICBzaWduYWwgPT09ICdSRVNQT05ERVJfVEVSTUlOQVRFRCcgfHwgc2lnbmFsID09PSAnUkVTUE9OREVSX1JFTEVBU0UnO1xuXG5jb25zdCBERUZBVUxUX0xPTkdfUFJFU1NfREVMQVlfTVMgPSA1MDA7XG5jb25zdCBERUZBVUxUX1BSRVNTX1JFQ1RfT0ZGU0VUUyA9IHtcbiAgYm90dG9tOiAzMCxcbiAgbGVmdDogMjAsXG4gIHJpZ2h0OiAyMCxcbiAgdG9wOiAyMCxcbn07XG5jb25zdCBERUZBVUxUX01JTl9QUkVTU19EVVJBVElPTiA9IDEzMDtcblxuLyoqXG4gKiBQcmVzc2FiaWxpdHkgaW1wbGVtZW50cyBwcmVzcyBoYW5kbGluZyBjYXBhYmlsaXRpZXMuXG4gKlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09IFByZXNzYWJpbGl0eSBUdXRvcmlhbCA9PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqXG4gKiBUaGUgYFByZXNzYWJpbGl0eWAgY2xhc3MgaGVscHMgeW91IGNyZWF0ZSBwcmVzcyBpbnRlcmFjdGlvbnMgYnkgYW5hbHl6aW5nIHRoZVxuICogZ2VvbWV0cnkgb2YgZWxlbWVudHMgYW5kIG9ic2VydmluZyB3aGVuIGFub3RoZXIgcmVzcG9uZGVyIChlLmcuIFNjcm9sbFZpZXcpXG4gKiBoYXMgc3RvbGVuIHRoZSB0b3VjaCBsb2NrLiBJdCBvZmZlcnMgaG9va3MgZm9yIHlvdXIgY29tcG9uZW50IHRvIHByb3ZpZGVcbiAqIGludGVyYWN0aW9uIGZlZWRiYWNrIHRvIHRoZSB1c2VyOlxuICpcbiAqIC0gV2hlbiBhIHByZXNzIGhhcyBhY3RpdmF0ZWQgKGUuZy4gaGlnaGxpZ2h0IGFuIGVsZW1lbnQpXG4gKiAtIFdoZW4gYSBwcmVzcyBoYXMgZGVhY3RpdmF0ZWQgKGUuZy4gdW4taGlnaGxpZ2h0IGFuIGVsZW1lbnQpXG4gKiAtIFdoZW4gYSBwcmVzcyBzb3VsZCB0cmlnZ2VyIGFuIGFjdGlvbiwgbWVhbmluZyBpdCBhY3RpdmF0ZWQgYW5kIGRlYWN0aXZhdGVkXG4gKiAgIHdoaWxlIHdpdGhpbiB0aGUgZ2VvbWV0cnkgb2YgdGhlIGVsZW1lbnQgd2l0aG91dCB0aGUgbG9jayBiZWluZyBzdG9sZW4uXG4gKlxuICogQSBoaWdoIHF1YWxpdHkgaW50ZXJhY3Rpb24gaXNuJ3QgYXMgc2ltcGxlIGFzIHlvdSBtaWdodCB0aGluay4gVGhlcmUgc2hvdWxkXG4gKiBiZSBhIHNsaWdodCBkZWxheSBiZWZvcmUgYWN0aXZhdGlvbi4gTW92aW5nIHlvdXIgZmluZ2VyIGJleW9uZCBhbiBlbGVtZW50J3NcbiAqIGJvdW5kcyBzaG91bGQgdHJpZ2dlciBkZWFjdGl2YXRpb24sIGJ1dCBtb3ZpbmcgdGhlIHNhbWUgZmluZ2VyIGJhY2sgd2l0aGluIGFuXG4gKiBlbGVtZW50J3MgYm91bmRzIHNob3VsZCB0cmlnZ2VyIHJlYWN0aXZhdGlvbi5cbiAqXG4gKiBJbiBvcmRlciB0byB1c2UgYFByZXNzYWJpbGl0eWAsIGRvIHRoZSBmb2xsb3dpbmc6XG4gKlxuICogMS4gSW5zdGFudGlhdGUgYFByZXNzYWJpbGl0eWAgYW5kIHN0b3JlIGl0IG9uIHlvdXIgY29tcG9uZW50J3Mgc3RhdGUuXG4gKlxuICogICAgc3RhdGUgPSB7XG4gKiAgICAgIHByZXNzYWJpbGl0eTogbmV3IFByZXNzYWJpbGl0eSh7XG4gKiAgICAgICAgLy8gLi4uXG4gKiAgICAgIH0pLFxuICogICAgfTtcbiAqXG4gKiAyLiBDaG9vc2UgdGhlIHJlbmRlcmVkIGNvbXBvbmVudCB3aG8gc2hvdWxkIGNvbGxlY3QgdGhlIHByZXNzIGV2ZW50cy4gT24gdGhhdFxuICogICAgZWxlbWVudCwgc3ByZWFkIGBwcmVzc2FiaWxpdHkuZ2V0RXZlbnRIYW5kbGVycygpYCBpbnRvIGl0cyBwcm9wcy5cbiAqXG4gKiAgICByZXR1cm4gKFxuICogICAgICA8VmlldyB7Li4udGhpcy5zdGF0ZS5wcmVzc2FiaWxpdHkuZ2V0RXZlbnRIYW5kbGVycygpfSAvPlxuICogICAgKTtcbiAqXG4gKiAzLiBSZXNldCBgUHJlc3NhYmlsaXR5YCB3aGVuIHlvdXIgY29tcG9uZW50IHVubW91bnRzLlxuICpcbiAqICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICogICAgICB0aGlzLnN0YXRlLnByZXNzYWJpbGl0eS5yZXNldCgpO1xuICogICAgfVxuICpcbiAqID09PT09PT09PT09PT09PT09PT09IFByZXNzYWJpbGl0eSBJbXBsZW1lbnRhdGlvbiBEZXRhaWxzID09PT09PT09PT09PT09PT09PT09XG4gKlxuICogYFByZXNzYWJpbGl0eWAgb25seSBhc3N1bWVzIHRoYXQgdGhlcmUgZXhpc3RzIGEgYEhpdFJlY3RgIG5vZGUuIFRoZSBgUHJlc3NSZWN0YFxuICogaXMgYW4gYWJzdHJhY3QgYm94IHRoYXQgaXMgZXh0ZW5kZWQgYmV5b25kIHRoZSBgSGl0UmVjdGAuXG4gKlxuICogIyBHZW9tZXRyeVxuICpcbiAqICDilIzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJBcbiAqICDilIIgIOKUjOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUkCAg4pSCIC0gUHJlc3NlcyBzdGFydCBhbnl3aGVyZSB3aXRoaW4gYEhpdFJlY3RgLCB3aGljaFxuICogIOKUgiAg4pSCICDilIzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJAgIOKUgiAg4pSCICAgaXMgZXhwYW5kZWQgdmlhIHRoZSBwcm9wIGBoaXRTbG9wYC5cbiAqICDilIIgIOKUgiAg4pSCIFZpc3VhbFJlY3Qg4pSCICDilIIgIOKUglxuICogIOKUgiAg4pSCICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJggIOKUgiAg4pSCIC0gV2hlbiBwcmVzc2VkIGRvd24gZm9yIHN1ZmZpY2llbnQgYW1vdW50IG9mIHRpbWVcbiAqICDilIIgIOKUgiAgICBIaXRSZWN0ICAgICAgIOKUgiAg4pSCICAgYmVmb3JlIGxldHRpbmcgdXAsIGBWaXN1YWxSZWN0YCBhY3RpdmF0ZXMgZm9yXG4gKiAg4pSCICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJggIOKUgiAgIGFzIGxvbmcgYXMgdGhlIHByZXNzIHN0YXlzIHdpdGhpbiBgUHJlc3NSZWN0YC5cbiAqICDilIIgICAgICAgUHJlc3NSZWN0ICAgIG8gICDilIJcbiAqICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilILilIDilIDilIDilJhcbiAqICAgICAgICAgIE91dCBSZWdpb24gICDilJTilIDilIDilIDilIDilIDilIAgYFByZXNzUmVjdGAsIHdoaWNoIGlzIGV4cGFuZGVkIHZpYSB0aGUgcHJvcFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYHByZXNzUmVjdE9mZnNldGAsIGFsbG93cyBwcmVzc2VzIHRvIG1vdmVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJleW9uZCBgSGl0UmVjdGAgd2hpbGUgbWFpbnRhaW5pbmcgYWN0aXZhdGlvblxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5kIGJlaW5nIGVsaWdpYmxlIGZvciBhIFwicHJlc3NcIi5cbiAqXG4gKiAjIFN0YXRlIE1hY2hpbmVcbiAqXG4gKiDilIzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJAg4peA4pSA4pSA4pSA4pSAIFJFU1BPTkRFUl9SRUxFQVNFXG4gKiDilIIgTk9UX1JFU1BPTkRFUiDilIJcbiAqIOKUlOKUgOKUgOKUgOKUrOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmCDil4DilIDilIDilIDilIAgUkVTUE9OREVSX1RFUk1JTkFURURcbiAqICAgICDilIJcbiAqICAgICDilIIgUkVTUE9OREVSX0dSQU5UIChIaXRSZWN0KVxuICogICAgIOKUglxuICogICAgIOKWvFxuICog4pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSQICAgICAgICAgIOKUjOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUkCAgICAgICAgICAgICAg4pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSQXG4gKiDilIIgUkVTUE9OREVSX0lOQUNUSVZFXyDilIIgIERFTEFZICAg4pSCIFJFU1BPTkRFUl9BQ1RJVkVfIOKUgiAgVCArIERFTEFZICAg4pSCIFJFU1BPTkRFUl9BQ1RJVkVfIOKUglxuICog4pSCIFBSRVNTX0lOICAgICAgICAgICAg4pSc4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pa2IOKUgiBQUkVTU19JTiAgICAgICAgICDilJzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilrYg4pSCIExPTkdfUFJFU1NfSU4gICAgIOKUglxuICog4pSU4pSA4pSs4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYICAgICAgICAgIOKUlOKUgOKUrOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmCAgICAgICAgICAgICAg4pSU4pSA4pSs4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYXG4gKiAgIOKUgiAgICAgICAgICAg4payICAgICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgIOKWsiAgICAgICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgIOKWslxuICogICDilIJMRUFWRV8gICAgIOKUgiAgICAgICAgICAgICAgICAgICAg4pSCTEVBVkVfICAgICDilIIgICAgICAgICAgICAgICAgICAgICAg4pSCTEVBVkVfICAgICDilIJcbiAqICAg4pSCUFJFU1NfUkVDVCDilIJFTlRFUl8gICAgICAgICAgICAgIOKUglBSRVNTX1JFQ1Qg4pSCRU5URVJfICAgICAgICAgICAgICAgIOKUglBSRVNTX1JFQ1Qg4pSCRU5URVJfXG4gKiAgIOKUgiAgICAgICAgICAg4pSCUFJFU1NfUkVDVCAgICAgICAgICDilIIgICAgICAgICAgIOKUglBSRVNTX1JFQ1QgICAgICAgICAgICDilIIgICAgICAgICAgIOKUglBSRVNTX1JFQ1RcbiAqICAg4pa8ICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgICAgIOKWvCAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICAgICAgIOKWvCAgICAgICAgICAg4pSCXG4gKiDilIzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilLTilIDilIDilIDilIDilIDilIDilIDilJAgICAgICAgICAg4pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pS04pSA4pSA4pSA4pSA4pSA4pSQICAgICAgICAgICAgICDilIzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilLTilIDilIDilIDilIDilIDilJBcbiAqIOKUgiBSRVNQT05ERVJfSU5BQ1RJVkVfIOKUgiAgREVMQVkgICDilIIgUkVTUE9OREVSX0FDVElWRV8g4pSCICAgICAgICAgICAgICDilIIgUkVTUE9OREVSX0FDVElWRV8g4pSCXG4gKiDilIIgUFJFU1NfT1VUICAgICAgICAgICDilJzilIDilIDilIDilIDilIDilIDilIDilIDilrYg4pSCIFBSRVNTX09VVCAgICAgICAgIOKUgiAgICAgICAgICAgICAg4pSCIExPTkdfUFJFU1NfT1VUICAgIOKUglxuICog4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYICAgICAgICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmCAgICAgICAgICAgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYXG4gKlxuICogVCArIERFTEFZID0+IExPTkdfUFJFU1NfREVMQVkgKyBERUxBWVxuICpcbiAqIE5vdCBkcmF3biBhcmUgdGhlIHNpZGUgZWZmZWN0cyBvZiBlYWNoIHRyYW5zaXRpb24uIFRoZSBtb3N0IGltcG9ydGFudCBzaWRlXG4gKiBlZmZlY3QgaXMgdGhlIGludm9jYXRpb24gb2YgYG9uUHJlc3NgIGFuZCBgb25Mb25nUHJlc3NgIHRoYXQgb2NjdXIgd2hlbiBhXG4gKiByZXNwb25kZXIgaXMgcmVsZWFzZSB3aGlsZSBpbiB0aGUgXCJwcmVzcyBpblwiIHN0YXRlcy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJlc3NhYmlsaXR5IHtcbiAgX2NvbmZpZzogUHJlc3NhYmlsaXR5Q29uZmlnO1xuICBfZXZlbnRIYW5kbGVyczogP0V2ZW50SGFuZGxlcnMgPSBudWxsO1xuICBfaG92ZXJJbkRlbGF5VGltZW91dDogP1RpbWVvdXRJRCA9IG51bGw7XG4gIF9ob3Zlck91dERlbGF5VGltZW91dDogP1RpbWVvdXRJRCA9IG51bGw7XG4gIF9pc0hvdmVyZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgX2xvbmdQcmVzc0RlbGF5VGltZW91dDogP1RpbWVvdXRJRCA9IG51bGw7XG4gIF9wcmVzc0RlbGF5VGltZW91dDogP1RpbWVvdXRJRCA9IG51bGw7XG4gIF9wcmVzc091dERlbGF5VGltZW91dDogP1RpbWVvdXRJRCA9IG51bGw7XG4gIF9yZXNwb25kZXJJRDogP251bWJlciB8IFJlYWN0LkVsZW1lbnRSZWY8SG9zdENvbXBvbmVudDxtaXhlZD4+ID0gbnVsbDtcbiAgX3Jlc3BvbmRlclJlZ2lvbjogPyRSZWFkT25seTx7fFxuICAgIGJvdHRvbTogbnVtYmVyLFxuICAgIGxlZnQ6IG51bWJlcixcbiAgICByaWdodDogbnVtYmVyLFxuICAgIHRvcDogbnVtYmVyLFxuICB8fT4gPSBudWxsO1xuICBfdG91Y2hBY3RpdmF0ZVBvc2l0aW9uOiA/JFJlYWRPbmx5PHt8XG4gICAgcGFnZVg6IG51bWJlcixcbiAgICBwYWdlWTogbnVtYmVyLFxuICB8fT47XG4gIF90b3VjaEFjdGl2YXRlVGltZTogP251bWJlcjtcbiAgX3RvdWNoU3RhdGU6IFRvdWNoU3RhdGUgPSAnTk9UX1JFU1BPTkRFUic7XG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBQcmVzc2FiaWxpdHlDb25maWcpIHtcbiAgICB0aGlzLmNvbmZpZ3VyZShjb25maWcpO1xuICB9XG5cbiAgY29uZmlndXJlKGNvbmZpZzogUHJlc3NhYmlsaXR5Q29uZmlnKTogdm9pZCB7XG4gICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0cyBhbnkgcGVuZGluZyB0aW1lcnMuIFRoaXMgc2hvdWxkIGJlIGNhbGxlZCBvbiB1bm1vdW50LlxuICAgKi9cbiAgcmVzZXQoKTogdm9pZCB7XG4gICAgdGhpcy5fY2FuY2VsSG92ZXJJbkRlbGF5VGltZW91dCgpO1xuICAgIHRoaXMuX2NhbmNlbEhvdmVyT3V0RGVsYXlUaW1lb3V0KCk7XG4gICAgdGhpcy5fY2FuY2VsTG9uZ1ByZXNzRGVsYXlUaW1lb3V0KCk7XG4gICAgdGhpcy5fY2FuY2VsUHJlc3NEZWxheVRpbWVvdXQoKTtcbiAgICB0aGlzLl9jYW5jZWxQcmVzc091dERlbGF5VGltZW91dCgpO1xuXG4gICAgLy8gRW5zdXJlIHRoYXQsIGlmIGFueSBhc3luYyBldmVudCBoYW5kbGVycyBhcmUgZmlyZWQgYWZ0ZXIgdW5tb3VudFxuICAgIC8vIGR1ZSB0byBhIHJhY2UsIHdlIGRvbid0IGNhbGwgYW55IGNvbmZpZ3VyZWQgY2FsbGJhY2tzLlxuICAgIHRoaXMuX2NvbmZpZyA9IE9iamVjdC5mcmVlemUoe30pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBzZXQgb2YgcHJvcHMgdG8gc3ByZWFkIGludG8gdGhlIGludGVyYWN0aXZlIGVsZW1lbnQuXG4gICAqL1xuICBnZXRFdmVudEhhbmRsZXJzKCk6IEV2ZW50SGFuZGxlcnMge1xuICAgIGlmICh0aGlzLl9ldmVudEhhbmRsZXJzID09IG51bGwpIHtcbiAgICAgIHRoaXMuX2V2ZW50SGFuZGxlcnMgPSB0aGlzLl9jcmVhdGVFdmVudEhhbmRsZXJzKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9ldmVudEhhbmRsZXJzO1xuICB9XG5cbiAgX2NyZWF0ZUV2ZW50SGFuZGxlcnMoKTogRXZlbnRIYW5kbGVycyB7XG4gICAgY29uc3QgZm9jdXNFdmVudEhhbmRsZXJzID0ge1xuICAgICAgb25CbHVyOiAoZXZlbnQ6IEJsdXJFdmVudCk6IHZvaWQgPT4ge1xuICAgICAgICBjb25zdCB7b25CbHVyfSA9IHRoaXMuX2NvbmZpZztcbiAgICAgICAgaWYgKG9uQmx1ciAhPSBudWxsKSB7XG4gICAgICAgICAgb25CbHVyKGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uRm9jdXM6IChldmVudDogRm9jdXNFdmVudCk6IHZvaWQgPT4ge1xuICAgICAgICBjb25zdCB7b25Gb2N1c30gPSB0aGlzLl9jb25maWc7XG4gICAgICAgIGlmIChvbkZvY3VzICE9IG51bGwpIHtcbiAgICAgICAgICBvbkZvY3VzKGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgY29uc3QgcmVzcG9uZGVyRXZlbnRIYW5kbGVycyA9IHtcbiAgICAgIG9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXI6ICgpOiBib29sZWFuID0+IHtcbiAgICAgICAgY29uc3Qge2Rpc2FibGVkfSA9IHRoaXMuX2NvbmZpZztcbiAgICAgICAgaWYgKGRpc2FibGVkID09IG51bGwpIHtcbiAgICAgICAgICBjb25zdCB7b25TdGFydFNob3VsZFNldFJlc3BvbmRlcl9ERVBSRUNBVEVEfSA9IHRoaXMuX2NvbmZpZztcbiAgICAgICAgICByZXR1cm4gb25TdGFydFNob3VsZFNldFJlc3BvbmRlcl9ERVBSRUNBVEVEID09IG51bGxcbiAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgOiBvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyX0RFUFJFQ0FURUQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gIWRpc2FibGVkO1xuICAgICAgfSxcblxuICAgICAgb25SZXNwb25kZXJHcmFudDogKGV2ZW50OiBQcmVzc0V2ZW50KTogdm9pZCA9PiB7XG4gICAgICAgIGV2ZW50LnBlcnNpc3QoKTtcblxuICAgICAgICB0aGlzLl9jYW5jZWxQcmVzc091dERlbGF5VGltZW91dCgpO1xuXG4gICAgICAgIHRoaXMuX3Jlc3BvbmRlcklEID0gZXZlbnQuY3VycmVudFRhcmdldDtcbiAgICAgICAgdGhpcy5fdG91Y2hTdGF0ZSA9ICdOT1RfUkVTUE9OREVSJztcbiAgICAgICAgdGhpcy5fcmVjZWl2ZVNpZ25hbCgnUkVTUE9OREVSX0dSQU5UJywgZXZlbnQpO1xuXG4gICAgICAgIGNvbnN0IGRlbGF5UHJlc3NJbiA9IG5vcm1hbGl6ZURlbGF5KHRoaXMuX2NvbmZpZy5kZWxheVByZXNzSW4pO1xuICAgICAgICBpZiAoZGVsYXlQcmVzc0luID4gMCkge1xuICAgICAgICAgIHRoaXMuX3ByZXNzRGVsYXlUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9yZWNlaXZlU2lnbmFsKCdERUxBWScsIGV2ZW50KTtcbiAgICAgICAgICB9LCBkZWxheVByZXNzSW4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX3JlY2VpdmVTaWduYWwoJ0RFTEFZJywgZXZlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZGVsYXlMb25nUHJlc3MgPSBub3JtYWxpemVEZWxheShcbiAgICAgICAgICB0aGlzLl9jb25maWcuZGVsYXlMb25nUHJlc3MsXG4gICAgICAgICAgMTAsXG4gICAgICAgICAgREVGQVVMVF9MT05HX1BSRVNTX0RFTEFZX01TIC0gZGVsYXlQcmVzc0luLFxuICAgICAgICApO1xuICAgICAgICB0aGlzLl9sb25nUHJlc3NEZWxheVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLl9oYW5kbGVMb25nUHJlc3MoZXZlbnQpO1xuICAgICAgICB9LCBkZWxheUxvbmdQcmVzcyArIGRlbGF5UHJlc3NJbik7XG4gICAgICB9LFxuXG4gICAgICBvblJlc3BvbmRlck1vdmU6IChldmVudDogUHJlc3NFdmVudCk6IHZvaWQgPT4ge1xuICAgICAgICBjb25zdCB7b25QcmVzc01vdmV9ID0gdGhpcy5fY29uZmlnO1xuICAgICAgICBpZiAob25QcmVzc01vdmUgIT0gbnVsbCkge1xuICAgICAgICAgIG9uUHJlc3NNb3ZlKGV2ZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlZ2lvbiBtYXkgbm90IGhhdmUgZmluaXNoZWQgYmVpbmcgbWVhc3VyZWQsIHlldC5cbiAgICAgICAgY29uc3QgcmVzcG9uZGVyUmVnaW9uID0gdGhpcy5fcmVzcG9uZGVyUmVnaW9uO1xuICAgICAgICBpZiAocmVzcG9uZGVyUmVnaW9uID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0b3VjaCA9IGdldFRvdWNoRnJvbVByZXNzRXZlbnQoZXZlbnQpO1xuICAgICAgICBpZiAodG91Y2ggPT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMuX2NhbmNlbExvbmdQcmVzc0RlbGF5VGltZW91dCgpO1xuICAgICAgICAgIHRoaXMuX3JlY2VpdmVTaWduYWwoJ0xFQVZFX1BSRVNTX1JFQ1QnLCBldmVudCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3RvdWNoQWN0aXZhdGVQb3NpdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgY29uc3QgZGVsdGFYID0gdGhpcy5fdG91Y2hBY3RpdmF0ZVBvc2l0aW9uLnBhZ2VYIC0gdG91Y2gucGFnZVg7XG4gICAgICAgICAgY29uc3QgZGVsdGFZID0gdGhpcy5fdG91Y2hBY3RpdmF0ZVBvc2l0aW9uLnBhZ2VZIC0gdG91Y2gucGFnZVk7XG4gICAgICAgICAgaWYgKE1hdGguaHlwb3QoZGVsdGFYLCBkZWx0YVkpID4gMTApIHtcbiAgICAgICAgICAgIHRoaXMuX2NhbmNlbExvbmdQcmVzc0RlbGF5VGltZW91dCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9pc1RvdWNoV2l0aGluUmVzcG9uZGVyUmVnaW9uKHRvdWNoLCByZXNwb25kZXJSZWdpb24pKSB7XG4gICAgICAgICAgdGhpcy5fcmVjZWl2ZVNpZ25hbCgnRU5URVJfUFJFU1NfUkVDVCcsIGV2ZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9jYW5jZWxMb25nUHJlc3NEZWxheVRpbWVvdXQoKTtcbiAgICAgICAgICB0aGlzLl9yZWNlaXZlU2lnbmFsKCdMRUFWRV9QUkVTU19SRUNUJywgZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICBvblJlc3BvbmRlclJlbGVhc2U6IChldmVudDogUHJlc3NFdmVudCk6IHZvaWQgPT4ge1xuICAgICAgICB0aGlzLl9yZWNlaXZlU2lnbmFsKCdSRVNQT05ERVJfUkVMRUFTRScsIGV2ZW50KTtcbiAgICAgIH0sXG5cbiAgICAgIG9uUmVzcG9uZGVyVGVybWluYXRlOiAoZXZlbnQ6IFByZXNzRXZlbnQpOiB2b2lkID0+IHtcbiAgICAgICAgdGhpcy5fcmVjZWl2ZVNpZ25hbCgnUkVTUE9OREVSX1RFUk1JTkFURUQnLCBldmVudCk7XG4gICAgICB9LFxuXG4gICAgICBvblJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdDogKCk6IGJvb2xlYW4gPT4ge1xuICAgICAgICBjb25zdCB7Y2FuY2VsYWJsZX0gPSB0aGlzLl9jb25maWc7XG4gICAgICAgIGlmIChjYW5jZWxhYmxlID09IG51bGwpIHtcbiAgICAgICAgICBjb25zdCB7b25SZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3RfREVQUkVDQVRFRH0gPSB0aGlzLl9jb25maWc7XG4gICAgICAgICAgcmV0dXJuIG9uUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0X0RFUFJFQ0FURUQgPT0gbnVsbFxuICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICA6IG9uUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0X0RFUFJFQ0FURUQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2FuY2VsYWJsZTtcbiAgICAgIH0sXG5cbiAgICAgIG9uQ2xpY2s6IChldmVudDogUHJlc3NFdmVudCk6IHZvaWQgPT4ge1xuICAgICAgICBjb25zdCB7b25QcmVzcywgZGlzYWJsZWR9ID0gdGhpcy5fY29uZmlnO1xuICAgICAgICBpZiAob25QcmVzcyAhPSBudWxsICYmIGRpc2FibGVkICE9PSB0cnVlKSB7XG4gICAgICAgICAgb25QcmVzcyhldmVudCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Rlc3QnKSB7XG4gICAgICAvLyBXZSBhcmUgc2V0dGluZyB0aGlzIGluIG9yZGVyIHRvIGZpbmQgdGhpcyBub2RlIGluIFJlYWN0TmF0aXZlVGVzdFRvb2xzXG4gICAgICByZXNwb25kZXJFdmVudEhhbmRsZXJzLm9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXIudGVzdE9ubHlfcHJlc3NhYmlsaXR5Q29uZmlnID1cbiAgICAgICAgKCkgPT4gdGhpcy5fY29uZmlnO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIFJlYWN0TmF0aXZlRmVhdHVyZUZsYWdzLnNob3VsZFByZXNzaWJpbGl0eVVzZVczQ1BvaW50ZXJFdmVudHNGb3JIb3ZlcigpXG4gICAgKSB7XG4gICAgICBjb25zdCBob3ZlclBvaW50ZXJFdmVudHMgPSB7XG4gICAgICAgIG9uUG9pbnRlckVudGVyMjogdW5kZWZpbmVkLFxuICAgICAgICBvblBvaW50ZXJMZWF2ZTI6IHVuZGVmaW5lZCxcbiAgICAgIH07XG4gICAgICBjb25zdCB7b25Ib3ZlckluLCBvbkhvdmVyT3V0fSA9IHRoaXMuX2NvbmZpZztcbiAgICAgIGlmIChvbkhvdmVySW4gIT0gbnVsbCkge1xuICAgICAgICBob3ZlclBvaW50ZXJFdmVudHMub25Qb2ludGVyRW50ZXIyID0gKGV2ZW50OiBQb2ludGVyRXZlbnQpID0+IHtcbiAgICAgICAgICB0aGlzLl9pc0hvdmVyZWQgPSB0cnVlO1xuICAgICAgICAgIHRoaXMuX2NhbmNlbEhvdmVyT3V0RGVsYXlUaW1lb3V0KCk7XG4gICAgICAgICAgaWYgKG9uSG92ZXJJbiAhPSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBkZWxheUhvdmVySW4gPSBub3JtYWxpemVEZWxheSh0aGlzLl9jb25maWcuZGVsYXlIb3ZlckluKTtcbiAgICAgICAgICAgIGlmIChkZWxheUhvdmVySW4gPiAwKSB7XG4gICAgICAgICAgICAgIGV2ZW50LnBlcnNpc3QoKTtcbiAgICAgICAgICAgICAgdGhpcy5faG92ZXJJbkRlbGF5VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIG9uSG92ZXJJbihjb252ZXJ0UG9pbnRlckV2ZW50VG9Nb3VzZUV2ZW50KGV2ZW50KSk7XG4gICAgICAgICAgICAgIH0sIGRlbGF5SG92ZXJJbik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBvbkhvdmVySW4oY29udmVydFBvaW50ZXJFdmVudFRvTW91c2VFdmVudChldmVudCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGlmIChvbkhvdmVyT3V0ICE9IG51bGwpIHtcbiAgICAgICAgaG92ZXJQb2ludGVyRXZlbnRzLm9uUG9pbnRlckxlYXZlMiA9IChldmVudDogUG9pbnRlckV2ZW50KSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMuX2lzSG92ZXJlZCkge1xuICAgICAgICAgICAgdGhpcy5faXNIb3ZlcmVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9jYW5jZWxIb3ZlckluRGVsYXlUaW1lb3V0KCk7XG4gICAgICAgICAgICBpZiAob25Ib3Zlck91dCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGRlbGF5SG92ZXJPdXQgPSBub3JtYWxpemVEZWxheSh0aGlzLl9jb25maWcuZGVsYXlIb3Zlck91dCk7XG4gICAgICAgICAgICAgIGlmIChkZWxheUhvdmVyT3V0ID4gMCkge1xuICAgICAgICAgICAgICAgIGV2ZW50LnBlcnNpc3QoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9ob3Zlck91dERlbGF5VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgb25Ib3Zlck91dChjb252ZXJ0UG9pbnRlckV2ZW50VG9Nb3VzZUV2ZW50KGV2ZW50KSk7XG4gICAgICAgICAgICAgICAgfSwgZGVsYXlIb3Zlck91dCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb25Ib3Zlck91dChjb252ZXJ0UG9pbnRlckV2ZW50VG9Nb3VzZUV2ZW50KGV2ZW50KSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5mb2N1c0V2ZW50SGFuZGxlcnMsXG4gICAgICAgIC4uLnJlc3BvbmRlckV2ZW50SGFuZGxlcnMsXG4gICAgICAgIC4uLmhvdmVyUG9pbnRlckV2ZW50cyxcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG1vdXNlRXZlbnRIYW5kbGVycyA9XG4gICAgICAgIFBsYXRmb3JtLk9TID09PSAnaW9zJyB8fCBQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnXG4gICAgICAgICAgPyBudWxsXG4gICAgICAgICAgOiB7XG4gICAgICAgICAgICAgIG9uTW91c2VFbnRlcjogKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGlzSG92ZXJFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuX2lzSG92ZXJlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICB0aGlzLl9jYW5jZWxIb3Zlck91dERlbGF5VGltZW91dCgpO1xuICAgICAgICAgICAgICAgICAgY29uc3Qge29uSG92ZXJJbn0gPSB0aGlzLl9jb25maWc7XG4gICAgICAgICAgICAgICAgICBpZiAob25Ib3ZlckluICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVsYXlIb3ZlckluID0gbm9ybWFsaXplRGVsYXkoXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29uZmlnLmRlbGF5SG92ZXJJbixcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlbGF5SG92ZXJJbiA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICBldmVudC5wZXJzaXN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5faG92ZXJJbkRlbGF5VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25Ib3ZlckluKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICB9LCBkZWxheUhvdmVySW4pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIG9uSG92ZXJJbihldmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlOiAoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5faXNIb3ZlcmVkKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLl9pc0hvdmVyZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgIHRoaXMuX2NhbmNlbEhvdmVySW5EZWxheVRpbWVvdXQoKTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHtvbkhvdmVyT3V0fSA9IHRoaXMuX2NvbmZpZztcbiAgICAgICAgICAgICAgICAgIGlmIChvbkhvdmVyT3V0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVsYXlIb3Zlck91dCA9IG5vcm1hbGl6ZURlbGF5KFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvbmZpZy5kZWxheUhvdmVyT3V0LFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVsYXlIb3Zlck91dCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICBldmVudC5wZXJzaXN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5faG92ZXJJbkRlbGF5VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25Ib3Zlck91dChldmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgfSwgZGVsYXlIb3Zlck91dCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgb25Ib3Zlck91dChldmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uZm9jdXNFdmVudEhhbmRsZXJzLFxuICAgICAgICAuLi5yZXNwb25kZXJFdmVudEhhbmRsZXJzLFxuICAgICAgICAuLi5tb3VzZUV2ZW50SGFuZGxlcnMsXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZWNlaXZlcyBhIHN0YXRlIG1hY2hpbmUgc2lnbmFsLCBwZXJmb3JtcyBzaWRlIGVmZmVjdHMgb2YgdGhlIHRyYW5zaXRpb25cbiAgICogYW5kIHN0b3JlcyB0aGUgbmV3IHN0YXRlLiBWYWxpZGF0ZXMgdGhlIHRyYW5zaXRpb24gYXMgd2VsbC5cbiAgICovXG4gIF9yZWNlaXZlU2lnbmFsKHNpZ25hbDogVG91Y2hTaWduYWwsIGV2ZW50OiBQcmVzc0V2ZW50KTogdm9pZCB7XG4gICAgLy8gRXNwZWNpYWxseSBvbiBpT1MsIG5vdCBhbGwgZXZlbnRzIGhhdmUgdGltZXN0YW1wcyBhc3NvY2lhdGVkLlxuICAgIC8vIEZvciB0ZWxlbWV0cnkgcHVycG9zZXMsIHRoaXMgZG9lc24ndCBtYXR0ZXIgdG9vIG11Y2gsIGFzIGxvbmcgYXMgKnNvbWUqIGRvLlxuICAgIC8vIFNpbmNlIHRoZSBuYXRpdmUgdGltZXN0YW1wIGlzIGludGVncmFsIGZvciBsb2dnaW5nIHRlbGVtZXRyeSwganVzdCBza2lwXG4gICAgLy8gZXZlbnRzIGlmIHRoZXkgZG9uJ3QgaGF2ZSBhIHRpbWVzdGFtcCBhdHRhY2hlZC5cbiAgICBpZiAoZXZlbnQubmF0aXZlRXZlbnQudGltZXN0YW1wICE9IG51bGwpIHtcbiAgICAgIFByZXNzYWJpbGl0eVBlcmZvcm1hbmNlRXZlbnRFbWl0dGVyLmVtaXRFdmVudCgoKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc2lnbmFsLFxuICAgICAgICAgIG5hdGl2ZVRpbWVzdGFtcDogZXZlbnQubmF0aXZlRXZlbnQudGltZXN0YW1wLFxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgcHJldlN0YXRlID0gdGhpcy5fdG91Y2hTdGF0ZTtcbiAgICBjb25zdCBuZXh0U3RhdGUgPSBUcmFuc2l0aW9uc1twcmV2U3RhdGVdPy5bc2lnbmFsXTtcbiAgICBpZiAodGhpcy5fcmVzcG9uZGVySUQgPT0gbnVsbCAmJiBzaWduYWwgPT09ICdSRVNQT05ERVJfUkVMRUFTRScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaW52YXJpYW50KFxuICAgICAgbmV4dFN0YXRlICE9IG51bGwgJiYgbmV4dFN0YXRlICE9PSAnRVJST1InLFxuICAgICAgJ1ByZXNzYWJpbGl0eTogSW52YWxpZCBzaWduYWwgYCVzYCBmb3Igc3RhdGUgYCVzYCBvbiByZXNwb25kZXI6ICVzJyxcbiAgICAgIHNpZ25hbCxcbiAgICAgIHByZXZTdGF0ZSxcbiAgICAgIHR5cGVvZiB0aGlzLl9yZXNwb25kZXJJRCA9PT0gJ251bWJlcidcbiAgICAgICAgPyB0aGlzLl9yZXNwb25kZXJJRFxuICAgICAgICA6ICc8PGhvc3QgY29tcG9uZW50Pj4nLFxuICAgICk7XG4gICAgaWYgKHByZXZTdGF0ZSAhPT0gbmV4dFN0YXRlKSB7XG4gICAgICB0aGlzLl9wZXJmb3JtVHJhbnNpdGlvblNpZGVFZmZlY3RzKHByZXZTdGF0ZSwgbmV4dFN0YXRlLCBzaWduYWwsIGV2ZW50KTtcbiAgICAgIHRoaXMuX3RvdWNoU3RhdGUgPSBuZXh0U3RhdGU7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFBlcmZvcm1zIGEgdHJhbnNpdGlvbiBiZXR3ZWVuIHRvdWNoYWJsZSBzdGF0ZXMgYW5kIGlkZW50aWZ5IGFueSBhY3RpdmF0aW9uc1xuICAgKiBvciBkZWFjdGl2YXRpb25zIChhbmQgY2FsbGJhY2sgaW52b2NhdGlvbnMpLlxuICAgKi9cbiAgX3BlcmZvcm1UcmFuc2l0aW9uU2lkZUVmZmVjdHMoXG4gICAgcHJldlN0YXRlOiBUb3VjaFN0YXRlLFxuICAgIG5leHRTdGF0ZTogVG91Y2hTdGF0ZSxcbiAgICBzaWduYWw6IFRvdWNoU2lnbmFsLFxuICAgIGV2ZW50OiBQcmVzc0V2ZW50LFxuICApOiB2b2lkIHtcbiAgICBpZiAoaXNUZXJtaW5hbFNpZ25hbChzaWduYWwpKSB7XG4gICAgICB0aGlzLl90b3VjaEFjdGl2YXRlUG9zaXRpb24gPSBudWxsO1xuICAgICAgdGhpcy5fY2FuY2VsTG9uZ1ByZXNzRGVsYXlUaW1lb3V0KCk7XG4gICAgfVxuXG4gICAgY29uc3QgaXNJbml0aWFsVHJhbnNpdGlvbiA9XG4gICAgICBwcmV2U3RhdGUgPT09ICdOT1RfUkVTUE9OREVSJyAmJlxuICAgICAgbmV4dFN0YXRlID09PSAnUkVTUE9OREVSX0lOQUNUSVZFX1BSRVNTX0lOJztcblxuICAgIGNvbnN0IGlzQWN0aXZhdGlvblRyYW5zaXRpb24gPVxuICAgICAgIWlzQWN0aXZhdGlvblNpZ25hbChwcmV2U3RhdGUpICYmIGlzQWN0aXZhdGlvblNpZ25hbChuZXh0U3RhdGUpO1xuXG4gICAgaWYgKGlzSW5pdGlhbFRyYW5zaXRpb24gfHwgaXNBY3RpdmF0aW9uVHJhbnNpdGlvbikge1xuICAgICAgdGhpcy5fbWVhc3VyZVJlc3BvbmRlclJlZ2lvbigpO1xuICAgIH1cblxuICAgIGlmIChpc1ByZXNzSW5TaWduYWwocHJldlN0YXRlKSAmJiBzaWduYWwgPT09ICdMT05HX1BSRVNTX0RFVEVDVEVEJykge1xuICAgICAgY29uc3Qge29uTG9uZ1ByZXNzfSA9IHRoaXMuX2NvbmZpZztcbiAgICAgIGlmIChvbkxvbmdQcmVzcyAhPSBudWxsKSB7XG4gICAgICAgIG9uTG9uZ1ByZXNzKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBpc1ByZXZBY3RpdmUgPSBpc0FjdGl2ZVNpZ25hbChwcmV2U3RhdGUpO1xuICAgIGNvbnN0IGlzTmV4dEFjdGl2ZSA9IGlzQWN0aXZlU2lnbmFsKG5leHRTdGF0ZSk7XG5cbiAgICBpZiAoIWlzUHJldkFjdGl2ZSAmJiBpc05leHRBY3RpdmUpIHtcbiAgICAgIHRoaXMuX2FjdGl2YXRlKGV2ZW50KTtcbiAgICB9IGVsc2UgaWYgKGlzUHJldkFjdGl2ZSAmJiAhaXNOZXh0QWN0aXZlKSB7XG4gICAgICB0aGlzLl9kZWFjdGl2YXRlKGV2ZW50KTtcbiAgICB9XG5cbiAgICBpZiAoaXNQcmVzc0luU2lnbmFsKHByZXZTdGF0ZSkgJiYgc2lnbmFsID09PSAnUkVTUE9OREVSX1JFTEVBU0UnKSB7XG4gICAgICAvLyBJZiB3ZSBuZXZlciBhY3RpdmF0ZWQgKGR1ZSB0byBkZWxheXMpLCBhY3RpdmF0ZSBhbmQgZGVhY3RpdmF0ZSBub3cuXG4gICAgICBpZiAoIWlzTmV4dEFjdGl2ZSAmJiAhaXNQcmV2QWN0aXZlKSB7XG4gICAgICAgIHRoaXMuX2FjdGl2YXRlKGV2ZW50KTtcbiAgICAgICAgdGhpcy5fZGVhY3RpdmF0ZShldmVudCk7XG4gICAgICB9XG4gICAgICBjb25zdCB7b25Mb25nUHJlc3MsIG9uUHJlc3MsIGFuZHJvaWRfZGlzYWJsZVNvdW5kfSA9IHRoaXMuX2NvbmZpZztcbiAgICAgIGlmIChvblByZXNzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgaXNQcmVzc0NhbmNlbGVkQnlMb25nUHJlc3MgPVxuICAgICAgICAgIG9uTG9uZ1ByZXNzICE9IG51bGwgJiZcbiAgICAgICAgICBwcmV2U3RhdGUgPT09ICdSRVNQT05ERVJfQUNUSVZFX0xPTkdfUFJFU1NfSU4nICYmXG4gICAgICAgICAgdGhpcy5fc2hvdWxkTG9uZ1ByZXNzQ2FuY2VsUHJlc3MoKTtcbiAgICAgICAgaWYgKCFpc1ByZXNzQ2FuY2VsZWRCeUxvbmdQcmVzcykge1xuICAgICAgICAgIGlmIChQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnICYmIGFuZHJvaWRfZGlzYWJsZVNvdW5kICE9PSB0cnVlKSB7XG4gICAgICAgICAgICBTb3VuZE1hbmFnZXIucGxheVRvdWNoU291bmQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgb25QcmVzcyhldmVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9jYW5jZWxQcmVzc0RlbGF5VGltZW91dCgpO1xuICB9XG5cbiAgX2FjdGl2YXRlKGV2ZW50OiBQcmVzc0V2ZW50KTogdm9pZCB7XG4gICAgY29uc3Qge29uUHJlc3NJbn0gPSB0aGlzLl9jb25maWc7XG4gICAgY29uc3Qge3BhZ2VYLCBwYWdlWX0gPSBnZXRUb3VjaEZyb21QcmVzc0V2ZW50KGV2ZW50KTtcbiAgICB0aGlzLl90b3VjaEFjdGl2YXRlUG9zaXRpb24gPSB7cGFnZVgsIHBhZ2VZfTtcbiAgICB0aGlzLl90b3VjaEFjdGl2YXRlVGltZSA9IERhdGUubm93KCk7XG4gICAgaWYgKG9uUHJlc3NJbiAhPSBudWxsKSB7XG4gICAgICBvblByZXNzSW4oZXZlbnQpO1xuICAgIH1cbiAgfVxuXG4gIF9kZWFjdGl2YXRlKGV2ZW50OiBQcmVzc0V2ZW50KTogdm9pZCB7XG4gICAgY29uc3Qge29uUHJlc3NPdXR9ID0gdGhpcy5fY29uZmlnO1xuICAgIGlmIChvblByZXNzT3V0ICE9IG51bGwpIHtcbiAgICAgIGNvbnN0IG1pblByZXNzRHVyYXRpb24gPSBub3JtYWxpemVEZWxheShcbiAgICAgICAgdGhpcy5fY29uZmlnLm1pblByZXNzRHVyYXRpb24sXG4gICAgICAgIDAsXG4gICAgICAgIERFRkFVTFRfTUlOX1BSRVNTX0RVUkFUSU9OLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHByZXNzRHVyYXRpb24gPSBEYXRlLm5vdygpIC0gKHRoaXMuX3RvdWNoQWN0aXZhdGVUaW1lID8/IDApO1xuICAgICAgY29uc3QgZGVsYXlQcmVzc091dCA9IE1hdGgubWF4KFxuICAgICAgICBtaW5QcmVzc0R1cmF0aW9uIC0gcHJlc3NEdXJhdGlvbixcbiAgICAgICAgbm9ybWFsaXplRGVsYXkodGhpcy5fY29uZmlnLmRlbGF5UHJlc3NPdXQpLFxuICAgICAgKTtcbiAgICAgIGlmIChkZWxheVByZXNzT3V0ID4gMCkge1xuICAgICAgICBldmVudC5wZXJzaXN0KCk7XG4gICAgICAgIHRoaXMuX3ByZXNzT3V0RGVsYXlUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgb25QcmVzc091dChldmVudCk7XG4gICAgICAgIH0sIGRlbGF5UHJlc3NPdXQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb25QcmVzc091dChldmVudCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX3RvdWNoQWN0aXZhdGVUaW1lID0gbnVsbDtcbiAgfVxuXG4gIF9tZWFzdXJlUmVzcG9uZGVyUmVnaW9uKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLl9yZXNwb25kZXJJRCA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB0aGlzLl9yZXNwb25kZXJJRCA9PT0gJ251bWJlcicpIHtcbiAgICAgIFVJTWFuYWdlci5tZWFzdXJlKHRoaXMuX3Jlc3BvbmRlcklELCB0aGlzLl9tZWFzdXJlQ2FsbGJhY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9yZXNwb25kZXJJRC5tZWFzdXJlKHRoaXMuX21lYXN1cmVDYWxsYmFjayk7XG4gICAgfVxuICB9XG5cbiAgX21lYXN1cmVDYWxsYmFjayA9IChsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQsIHBhZ2VYLCBwYWdlWSkgPT4ge1xuICAgIGlmICghbGVmdCAmJiAhdG9wICYmICF3aWR0aCAmJiAhaGVpZ2h0ICYmICFwYWdlWCAmJiAhcGFnZVkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fcmVzcG9uZGVyUmVnaW9uID0ge1xuICAgICAgYm90dG9tOiBwYWdlWSArIGhlaWdodCxcbiAgICAgIGxlZnQ6IHBhZ2VYLFxuICAgICAgcmlnaHQ6IHBhZ2VYICsgd2lkdGgsXG4gICAgICB0b3A6IHBhZ2VZLFxuICAgIH07XG4gIH07XG5cbiAgX2lzVG91Y2hXaXRoaW5SZXNwb25kZXJSZWdpb24oXG4gICAgdG91Y2g6ICRQcm9wZXJ0eVR5cGU8UHJlc3NFdmVudCwgJ25hdGl2ZUV2ZW50Jz4sXG4gICAgcmVzcG9uZGVyUmVnaW9uOiAkUmVhZE9ubHk8e3xcbiAgICAgIGJvdHRvbTogbnVtYmVyLFxuICAgICAgbGVmdDogbnVtYmVyLFxuICAgICAgcmlnaHQ6IG51bWJlcixcbiAgICAgIHRvcDogbnVtYmVyLFxuICAgIHx9PixcbiAgKTogYm9vbGVhbiB7XG4gICAgY29uc3QgaGl0U2xvcCA9IG5vcm1hbGl6ZVJlY3QodGhpcy5fY29uZmlnLmhpdFNsb3ApO1xuICAgIGNvbnN0IHByZXNzUmVjdE9mZnNldCA9IG5vcm1hbGl6ZVJlY3QodGhpcy5fY29uZmlnLnByZXNzUmVjdE9mZnNldCk7XG5cbiAgICBsZXQgcmVnaW9uQm90dG9tID0gcmVzcG9uZGVyUmVnaW9uLmJvdHRvbTtcbiAgICBsZXQgcmVnaW9uTGVmdCA9IHJlc3BvbmRlclJlZ2lvbi5sZWZ0O1xuICAgIGxldCByZWdpb25SaWdodCA9IHJlc3BvbmRlclJlZ2lvbi5yaWdodDtcbiAgICBsZXQgcmVnaW9uVG9wID0gcmVzcG9uZGVyUmVnaW9uLnRvcDtcblxuICAgIGlmIChoaXRTbG9wICE9IG51bGwpIHtcbiAgICAgIGlmIChoaXRTbG9wLmJvdHRvbSAhPSBudWxsKSB7XG4gICAgICAgIHJlZ2lvbkJvdHRvbSArPSBoaXRTbG9wLmJvdHRvbTtcbiAgICAgIH1cbiAgICAgIGlmIChoaXRTbG9wLmxlZnQgIT0gbnVsbCkge1xuICAgICAgICByZWdpb25MZWZ0IC09IGhpdFNsb3AubGVmdDtcbiAgICAgIH1cbiAgICAgIGlmIChoaXRTbG9wLnJpZ2h0ICE9IG51bGwpIHtcbiAgICAgICAgcmVnaW9uUmlnaHQgKz0gaGl0U2xvcC5yaWdodDtcbiAgICAgIH1cbiAgICAgIGlmIChoaXRTbG9wLnRvcCAhPSBudWxsKSB7XG4gICAgICAgIHJlZ2lvblRvcCAtPSBoaXRTbG9wLnRvcDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZWdpb25Cb3R0b20gKz1cbiAgICAgIHByZXNzUmVjdE9mZnNldD8uYm90dG9tID8/IERFRkFVTFRfUFJFU1NfUkVDVF9PRkZTRVRTLmJvdHRvbTtcbiAgICByZWdpb25MZWZ0IC09IHByZXNzUmVjdE9mZnNldD8ubGVmdCA/PyBERUZBVUxUX1BSRVNTX1JFQ1RfT0ZGU0VUUy5sZWZ0O1xuICAgIHJlZ2lvblJpZ2h0ICs9IHByZXNzUmVjdE9mZnNldD8ucmlnaHQgPz8gREVGQVVMVF9QUkVTU19SRUNUX09GRlNFVFMucmlnaHQ7XG4gICAgcmVnaW9uVG9wIC09IHByZXNzUmVjdE9mZnNldD8udG9wID8/IERFRkFVTFRfUFJFU1NfUkVDVF9PRkZTRVRTLnRvcDtcblxuICAgIHJldHVybiAoXG4gICAgICB0b3VjaC5wYWdlWCA+IHJlZ2lvbkxlZnQgJiZcbiAgICAgIHRvdWNoLnBhZ2VYIDwgcmVnaW9uUmlnaHQgJiZcbiAgICAgIHRvdWNoLnBhZ2VZID4gcmVnaW9uVG9wICYmXG4gICAgICB0b3VjaC5wYWdlWSA8IHJlZ2lvbkJvdHRvbVxuICAgICk7XG4gIH1cblxuICBfaGFuZGxlTG9uZ1ByZXNzKGV2ZW50OiBQcmVzc0V2ZW50KTogdm9pZCB7XG4gICAgaWYgKFxuICAgICAgdGhpcy5fdG91Y2hTdGF0ZSA9PT0gJ1JFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfSU4nIHx8XG4gICAgICB0aGlzLl90b3VjaFN0YXRlID09PSAnUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX0lOJ1xuICAgICkge1xuICAgICAgdGhpcy5fcmVjZWl2ZVNpZ25hbCgnTE9OR19QUkVTU19ERVRFQ1RFRCcsIGV2ZW50KTtcbiAgICB9XG4gIH1cblxuICBfc2hvdWxkTG9uZ1ByZXNzQ2FuY2VsUHJlc3MoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuX2NvbmZpZy5vbkxvbmdQcmVzc1Nob3VsZENhbmNlbFByZXNzX0RFUFJFQ0FURUQgPT0gbnVsbCB8fFxuICAgICAgdGhpcy5fY29uZmlnLm9uTG9uZ1ByZXNzU2hvdWxkQ2FuY2VsUHJlc3NfREVQUkVDQVRFRCgpXG4gICAgKTtcbiAgfVxuXG4gIF9jYW5jZWxIb3ZlckluRGVsYXlUaW1lb3V0KCk6IHZvaWQge1xuICAgIGlmICh0aGlzLl9ob3ZlckluRGVsYXlUaW1lb3V0ICE9IG51bGwpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9ob3ZlckluRGVsYXlUaW1lb3V0KTtcbiAgICAgIHRoaXMuX2hvdmVySW5EZWxheVRpbWVvdXQgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIF9jYW5jZWxIb3Zlck91dERlbGF5VGltZW91dCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5faG92ZXJPdXREZWxheVRpbWVvdXQgIT0gbnVsbCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2hvdmVyT3V0RGVsYXlUaW1lb3V0KTtcbiAgICAgIHRoaXMuX2hvdmVyT3V0RGVsYXlUaW1lb3V0ID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBfY2FuY2VsTG9uZ1ByZXNzRGVsYXlUaW1lb3V0KCk6IHZvaWQge1xuICAgIGlmICh0aGlzLl9sb25nUHJlc3NEZWxheVRpbWVvdXQgIT0gbnVsbCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2xvbmdQcmVzc0RlbGF5VGltZW91dCk7XG4gICAgICB0aGlzLl9sb25nUHJlc3NEZWxheVRpbWVvdXQgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIF9jYW5jZWxQcmVzc0RlbGF5VGltZW91dCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5fcHJlc3NEZWxheVRpbWVvdXQgIT0gbnVsbCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3ByZXNzRGVsYXlUaW1lb3V0KTtcbiAgICAgIHRoaXMuX3ByZXNzRGVsYXlUaW1lb3V0ID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBfY2FuY2VsUHJlc3NPdXREZWxheVRpbWVvdXQoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX3ByZXNzT3V0RGVsYXlUaW1lb3V0ICE9IG51bGwpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9wcmVzc091dERlbGF5VGltZW91dCk7XG4gICAgICB0aGlzLl9wcmVzc091dERlbGF5VGltZW91dCA9IG51bGw7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZURlbGF5KGRlbGF5OiA/bnVtYmVyLCBtaW4gPSAwLCBmYWxsYmFjayA9IDApOiBudW1iZXIge1xuICByZXR1cm4gTWF0aC5tYXgobWluLCBkZWxheSA/PyBmYWxsYmFjayk7XG59XG5cbmNvbnN0IGdldFRvdWNoRnJvbVByZXNzRXZlbnQgPSAoZXZlbnQ6IFByZXNzRXZlbnQpID0+IHtcbiAgY29uc3Qge2NoYW5nZWRUb3VjaGVzLCB0b3VjaGVzfSA9IGV2ZW50Lm5hdGl2ZUV2ZW50O1xuXG4gIGlmICh0b3VjaGVzICE9IG51bGwgJiYgdG91Y2hlcy5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHRvdWNoZXNbMF07XG4gIH1cbiAgaWYgKGNoYW5nZWRUb3VjaGVzICE9IG51bGwgJiYgY2hhbmdlZFRvdWNoZXMubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBjaGFuZ2VkVG91Y2hlc1swXTtcbiAgfVxuICByZXR1cm4gZXZlbnQubmF0aXZlRXZlbnQ7XG59O1xuXG5mdW5jdGlvbiBjb252ZXJ0UG9pbnRlckV2ZW50VG9Nb3VzZUV2ZW50KGlucHV0OiBQb2ludGVyRXZlbnQpOiBNb3VzZUV2ZW50IHtcbiAgY29uc3Qge3RvdWNoSGlzdG9yeTogXywgLi4uc3ludGhFdmVudH0gPSBpbnB1dDtcbiAgY29uc3Qge2NsaWVudFgsIGNsaWVudFksIHRpbWVzdGFtcH0gPSBpbnB1dC5uYXRpdmVFdmVudDtcbiAgcmV0dXJuIHtcbiAgICAuLi5zeW50aEV2ZW50LFxuICAgIG5hdGl2ZUV2ZW50OiB7XG4gICAgICBjbGllbnRYLFxuICAgICAgY2xpZW50WSxcbiAgICAgIHBhZ2VYOiBjbGllbnRYLFxuICAgICAgcGFnZVk6IGNsaWVudFksXG4gICAgICB0aW1lc3RhbXAsXG4gICAgfSxcbiAgfTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQVVBOztBQUNBOztBQUNBOztBQUNBOztBQU9BOztBQUVBOztBQUNBOztBQUVBOztBQUNBOzs7Ozs7OztBQTRKQSxJQUFNQSxXQUFXLEdBQUdDLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjO0VBQ2hDQyxhQUFhLEVBQUU7SUFDYkMsS0FBSyxFQUFFLE9BRE07SUFFYkMsZUFBZSxFQUFFLDZCQUZKO0lBR2JDLGlCQUFpQixFQUFFLE9BSE47SUFJYkMsb0JBQW9CLEVBQUUsT0FKVDtJQUtiQyxnQkFBZ0IsRUFBRSxPQUxMO0lBTWJDLGdCQUFnQixFQUFFLE9BTkw7SUFPYkMsbUJBQW1CLEVBQUU7RUFQUixDQURpQjtFQVVoQ0MsMkJBQTJCLEVBQUU7SUFDM0JQLEtBQUssRUFBRSwyQkFEb0I7SUFFM0JDLGVBQWUsRUFBRSxPQUZVO0lBRzNCQyxpQkFBaUIsRUFBRSxlQUhRO0lBSTNCQyxvQkFBb0IsRUFBRSxlQUpLO0lBSzNCQyxnQkFBZ0IsRUFBRSw2QkFMUztJQU0zQkMsZ0JBQWdCLEVBQUUsOEJBTlM7SUFPM0JDLG1CQUFtQixFQUFFO0VBUE0sQ0FWRztFQW1CaENFLDRCQUE0QixFQUFFO0lBQzVCUixLQUFLLEVBQUUsNEJBRHFCO0lBRTVCQyxlQUFlLEVBQUUsT0FGVztJQUc1QkMsaUJBQWlCLEVBQUUsZUFIUztJQUk1QkMsb0JBQW9CLEVBQUUsZUFKTTtJQUs1QkMsZ0JBQWdCLEVBQUUsNkJBTFU7SUFNNUJDLGdCQUFnQixFQUFFLDhCQU5VO0lBTzVC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