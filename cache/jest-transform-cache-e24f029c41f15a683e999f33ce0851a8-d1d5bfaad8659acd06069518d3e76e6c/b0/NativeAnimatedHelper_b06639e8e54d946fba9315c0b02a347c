f7742319da3f3b749bd31098a37fd44a
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _NativeAnimatedModule = _interopRequireDefault(require("./NativeAnimatedModule"));

var _NativeAnimatedTurboModule = _interopRequireDefault(require("./NativeAnimatedTurboModule"));

var _NativeEventEmitter = _interopRequireDefault(require("../EventEmitter/NativeEventEmitter"));

var _Platform = _interopRequireDefault(require("../Utilities/Platform"));

var _invariant = _interopRequireDefault(require("invariant"));

var NativeAnimatedModule = _Platform.default.OS === 'ios' && global.RN$Bridgeless === true ? _NativeAnimatedTurboModule.default : _NativeAnimatedModule.default;
var __nativeAnimatedNodeTagCount = 1;
var __nativeAnimationIdCount = 1;
var nativeEventEmitter;
var waitingForQueuedOperations = new Set();
var queueOperations = false;
var queue = [];
var API = {
  getValue: function getValue(tag, saveValueCallback) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      NativeAnimatedModule.getValue(tag, saveValueCallback);
    });
  },
  setWaitingForIdentifier: function setWaitingForIdentifier(id) {
    waitingForQueuedOperations.add(id);
    queueOperations = true;
  },
  unsetWaitingForIdentifier: function unsetWaitingForIdentifier(id) {
    waitingForQueuedOperations.delete(id);

    if (waitingForQueuedOperations.size === 0) {
      queueOperations = false;
      API.disableQueue();
    }
  },
  disableQueue: function disableQueue() {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');

    if (_Platform.default.OS === 'android') {
      NativeAnimatedModule.startOperationBatch();
    }

    for (var q = 0, l = queue.length; q < l; q++) {
      queue[q]();
    }

    queue.length = 0;

    if (_Platform.default.OS === 'android') {
      NativeAnimatedModule.finishOperationBatch();
    }
  },
  queueOperation: function queueOperation(fn) {
    if (queueOperations) {
      queue.push(fn);
    } else {
      fn();
    }
  },
  createAnimatedNode: function createAnimatedNode(tag, config) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.createAnimatedNode(tag, config);
    });
  },
  updateAnimatedNodeConfig: function updateAnimatedNodeConfig(tag, config) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');

    if (typeof NativeAnimatedModule.updateAnimatedNodeConfig === 'function') {
      API.queueOperation(function () {
        return NativeAnimatedModule.updateAnimatedNodeConfig(tag, config);
      });
    }
  },
  startListeningToAnimatedNodeValue: function startListeningToAnimatedNodeValue(tag) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.startListeningToAnimatedNodeValue(tag);
    });
  },
  stopListeningToAnimatedNodeValue: function stopListeningToAnimatedNodeValue(tag) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.stopListeningToAnimatedNodeValue(tag);
    });
  },
  connectAnimatedNodes: function connectAnimatedNodes(parentTag, childTag) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.connectAnimatedNodes(parentTag, childTag);
    });
  },
  disconnectAnimatedNodes: function disconnectAnimatedNodes(parentTag, childTag) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.disconnectAnimatedNodes(parentTag, childTag);
    });
  },
  startAnimatingNode: function startAnimatingNode(animationId, nodeTag, config, endCallback) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.startAnimatingNode(animationId, nodeTag, config, endCallback);
    });
  },
  stopAnimation: function stopAnimation(animationId) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.stopAnimation(animationId);
    });
  },
  setAnimatedNodeValue: function setAnimatedNodeValue(nodeTag, value) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.setAnimatedNodeValue(nodeTag, value);
    });
  },
  setAnimatedNodeOffset: function setAnimatedNodeOffset(nodeTag, offset) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.setAnimatedNodeOffset(nodeTag, offset);
    });
  },
  flattenAnimatedNodeOffset: function flattenAnimatedNodeOffset(nodeTag) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.flattenAnimatedNodeOffset(nodeTag);
    });
  },
  extractAnimatedNodeOffset: function extractAnimatedNodeOffset(nodeTag) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.extractAnimatedNodeOffset(nodeTag);
    });
  },
  connectAnimatedNodeToView: function connectAnimatedNodeToView(nodeTag, viewTag) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.connectAnimatedNodeToView(nodeTag, viewTag);
    });
  },
  disconnectAnimatedNodeFromView: function disconnectAnimatedNodeFromView(nodeTag, viewTag) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.disconnectAnimatedNodeFromView(nodeTag, viewTag);
    });
  },
  restoreDefaultValues: function restoreDefaultValues(nodeTag) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');

    if (NativeAnimatedModule.restoreDefaultValues != null) {
      API.queueOperation(function () {
        return NativeAnimatedModule.restoreDefaultValues(nodeTag);
      });
    }
  },
  dropAnimatedNode: function dropAnimatedNode(tag) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.dropAnimatedNode(tag);
    });
  },
  addAnimatedEventToView: function addAnimatedEventToView(viewTag, eventName, eventMapping) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.addAnimatedEventToView(viewTag, eventName, eventMapping);
    });
  },
  removeAnimatedEventFromView: function removeAnimatedEventFromView(viewTag, eventName, animatedNodeTag) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.removeAnimatedEventFromView(viewTag, eventName, animatedNodeTag);
    });
  }
};
var SUPPORTED_COLOR_STYLES = {
  backgroundColor: true,
  borderBottomColor: true,
  borderColor: true,
  borderEndColor: true,
  borderLeftColor: true,
  borderRightColor: true,
  borderStartColor: true,
  borderTopColor: true,
  color: true,
  tintColor: true
};
var SUPPORTED_STYLES = Object.assign({}, SUPPORTED_COLOR_STYLES, {
  borderBottomEndRadius: true,
  borderBottomLeftRadius: true,
  borderBottomRightRadius: true,
  borderBottomStartRadius: true,
  borderRadius: true,
  borderTopEndRadius: true,
  borderTopLeftRadius: true,
  borderTopRightRadius: true,
  borderTopStartRadius: true,
  elevation: true,
  opacity: true,
  transform: true,
  zIndex: true,
  shadowOpacity: true,
  shadowRadius: true,
  scaleX: true,
  scaleY: true,
  translateX: true,
  translateY: true
});
var SUPPORTED_TRANSFORMS = {
  translateX: true,
  translateY: true,
  scale: true,
  scaleX: true,
  scaleY: true,
  rotate: true,
  rotateX: true,
  rotateY: true,
  rotateZ: true,
  perspective: true
};
var SUPPORTED_INTERPOLATION_PARAMS = {
  inputRange: true,
  outputRange: true,
  extrapolate: true,
  extrapolateRight: true,
  extrapolateLeft: true
};

function addWhitelistedStyleProp(prop) {
  SUPPORTED_STYLES[prop] = true;
}

function addWhitelistedTransformProp(prop) {
  SUPPORTED_TRANSFORMS[prop] = true;
}

function addWhitelistedInterpolationParam(param) {
  SUPPORTED_INTERPOLATION_PARAMS[param] = true;
}

function isSupportedColorStyleProp(prop) {
  return SUPPORTED_COLOR_STYLES.hasOwnProperty(prop);
}

function isSupportedStyleProp(prop) {
  return SUPPORTED_STYLES.hasOwnProperty(prop);
}

function isSupportedTransformProp(prop) {
  return SUPPORTED_TRANSFORMS.hasOwnProperty(prop);
}

function isSupportedInterpolationParam(param) {
  return SUPPORTED_INTERPOLATION_PARAMS.hasOwnProperty(param);
}

function validateTransform(configs) {
  configs.forEach(function (config) {
    if (!isSupportedTransformProp(config.property)) {
      throw new Error("Property '" + config.property + "' is not supported by native animated module");
    }
  });
}

function validateStyles(styles) {
  for (var _key in styles) {
    if (!isSupportedStyleProp(_key)) {
      throw new Error("Style property '" + _key + "' is not supported by native animated module");
    }
  }
}

function validateInterpolation(config) {
  for (var _key2 in config) {
    if (!isSupportedInterpolationParam(_key2)) {
      throw new Error("Interpolation property '" + _key2 + "' is not supported by native animated module");
    }
  }
}

function generateNewNodeTag() {
  return __nativeAnimatedNodeTagCount++;
}

function generateNewAnimationId() {
  return __nativeAnimationIdCount++;
}

function assertNativeAnimatedModule() {
  (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
}

var _warnedMissingNativeAnimated = false;

function shouldUseNativeDriver(config) {
  if (config.useNativeDriver == null) {
    console.warn('Animated: `useNativeDriver` was not specified. This is a required ' + 'option and must be explicitly set to `true` or `false`');
  }

  if (config.useNativeDriver === true && !NativeAnimatedModule) {
    if (!_warnedMissingNativeAnimated) {
      console.warn('Animated: `useNativeDriver` is not supported because the native ' + 'animated module is missing. Falling back to JS-based animation. To ' + 'resolve this, add `RCTAnimation` module to this app, or remove ' + '`useNativeDriver`. ' + 'Make sure to run `bundle exec pod install` first. Read more about autolinking: https://github.com/react-native-community/cli/blob/master/docs/autolinking.md');
      _warnedMissingNativeAnimated = true;
    }

    return false;
  }

  return config.useNativeDriver || false;
}

function transformDataType(value) {
  if (typeof value !== 'string') {
    return value;
  }

  if (/deg$/.test(value)) {
    var degrees = parseFloat(value) || 0;
    var radians = degrees * Math.PI / 180.0;
    return radians;
  } else {
    return value;
  }
}

module.exports = {
  API: API,
  isSupportedColorStyleProp: isSupportedColorStyleProp,
  isSupportedStyleProp: isSupportedStyleProp,
  isSupportedTransformProp: isSupportedTransformProp,
  isSupportedInterpolationParam: isSupportedInterpolationParam,
  addWhitelistedStyleProp: addWhitelistedStyleProp,
  addWhitelistedTransformProp: addWhitelistedTransformProp,
  addWhitelistedInterpolationParam: addWhitelistedInterpolationParam,
  validateStyles: validateStyles,
  validateTransform: validateTransform,
  validateInterpolation: validateInterpolation,
  generateNewNodeTag: generateNewNodeTag,
  generateNewAnimationId: generateNewAnimationId,
  assertNativeAnimatedModule: assertNativeAnimatedModule,
  shouldUseNativeDriver: shouldUseNativeDriver,
  transformDataType: transformDataType,

  get nativeEventEmitter() {
    if (!nativeEventEmitter) {
      nativeEventEmitter = new _NativeEventEmitter.default(_Platform.default.OS !== 'ios' ? null : NativeAnimatedModule);
    }

    return nativeEventEmitter;
  }

};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJOYXRpdmVBbmltYXRlZE1vZHVsZSIsIlBsYXRmb3JtIiwiT1MiLCJnbG9iYWwiLCJSTiRCcmlkZ2VsZXNzIiwiTmF0aXZlQW5pbWF0ZWRUdXJib01vZHVsZSIsIk5hdGl2ZUFuaW1hdGVkTm9uVHVyYm9Nb2R1bGUiLCJfX25hdGl2ZUFuaW1hdGVkTm9kZVRhZ0NvdW50IiwiX19uYXRpdmVBbmltYXRpb25JZENvdW50IiwibmF0aXZlRXZlbnRFbWl0dGVyIiwid2FpdGluZ0ZvclF1ZXVlZE9wZXJhdGlvbnMiLCJTZXQiLCJxdWV1ZU9wZXJhdGlvbnMiLCJxdWV1ZSIsIkFQSSIsImdldFZhbHVlIiwidGFnIiwic2F2ZVZhbHVlQ2FsbGJhY2siLCJpbnZhcmlhbnQiLCJxdWV1ZU9wZXJhdGlvbiIsInNldFdhaXRpbmdGb3JJZGVudGlmaWVyIiwiaWQiLCJhZGQiLCJ1bnNldFdhaXRpbmdGb3JJZGVudGlmaWVyIiwiZGVsZXRlIiwic2l6ZSIsImRpc2FibGVRdWV1ZSIsInN0YXJ0T3BlcmF0aW9uQmF0Y2giLCJxIiwibCIsImxlbmd0aCIsImZpbmlzaE9wZXJhdGlvbkJhdGNoIiwiZm4iLCJwdXNoIiwiY3JlYXRlQW5pbWF0ZWROb2RlIiwiY29uZmlnIiwidXBkYXRlQW5pbWF0ZWROb2RlQ29uZmlnIiwic3RhcnRMaXN0ZW5pbmdUb0FuaW1hdGVkTm9kZVZhbHVlIiwic3RvcExpc3RlbmluZ1RvQW5pbWF0ZWROb2RlVmFsdWUiLCJjb25uZWN0QW5pbWF0ZWROb2RlcyIsInBhcmVudFRhZyIsImNoaWxkVGFnIiwiZGlzY29ubmVjdEFuaW1hdGVkTm9kZXMiLCJzdGFydEFuaW1hdGluZ05vZGUiLCJhbmltYXRpb25JZCIsIm5vZGVUYWciLCJlbmRDYWxsYmFjayIsInN0b3BBbmltYXRpb24iLCJzZXRBbmltYXRlZE5vZGVWYWx1ZSIsInZhbHVlIiwic2V0QW5pbWF0ZWROb2RlT2Zmc2V0Iiwib2Zmc2V0IiwiZmxhdHRlbkFuaW1hdGVkTm9kZU9mZnNldCIsImV4dHJhY3RBbmltYXRlZE5vZGVPZmZzZXQiLCJjb25uZWN0QW5pbWF0ZWROb2RlVG9WaWV3Iiwidmlld1RhZyIsImRpc2Nvbm5lY3RBbmltYXRlZE5vZGVGcm9tVmlldyIsInJlc3RvcmVEZWZhdWx0VmFsdWVzIiwiZHJvcEFuaW1hdGVkTm9kZSIsImFkZEFuaW1hdGVkRXZlbnRUb1ZpZXciLCJldmVudE5hbWUiLCJldmVudE1hcHBpbmciLCJyZW1vdmVBbmltYXRlZEV2ZW50RnJvbVZpZXciLCJhbmltYXRlZE5vZGVUYWciLCJTVVBQT1JURURfQ09MT1JfU1RZTEVTIiwiYmFja2dyb3VuZENvbG9yIiwiYm9yZGVyQm90dG9tQ29sb3IiLCJib3JkZXJDb2xvciIsImJvcmRlckVuZENvbG9yIiwiYm9yZGVyTGVmdENvbG9yIiwiYm9yZGVyUmlnaHRDb2xvciIsImJvcmRlclN0YXJ0Q29sb3IiLCJib3JkZXJUb3BDb2xvciIsImNvbG9yIiwidGludENvbG9yIiwiU1VQUE9SVEVEX1NUWUxFUyIsImJvcmRlckJvdHRvbUVuZFJhZGl1cyIsImJvcmRlckJvdHRvbUxlZnRSYWRpdXMiLCJib3JkZXJCb3R0b21SaWdodFJhZGl1cyIsImJvcmRlckJvdHRvbVN0YXJ0UmFkaXVzIiwiYm9yZGVyUmFkaXVzIiwiYm9yZGVyVG9wRW5kUmFkaXVzIiwiYm9yZGVyVG9wTGVmdFJhZGl1cyIsImJvcmRlclRvcFJpZ2h0UmFkaXVzIiwiYm9yZGVyVG9wU3RhcnRSYWRpdXMiLCJlbGV2YXRpb24iLCJvcGFjaXR5IiwidHJhbnNmb3JtIiwiekluZGV4Iiwic2hhZG93T3BhY2l0eSIsInNoYWRvd1JhZGl1cyIsInNjYWxlWCIsInNjYWxlWSIsInRyYW5zbGF0ZVgiLCJ0cmFuc2xhdGVZIiwiU1VQUE9SVEVEX1RSQU5TRk9STVMiLCJzY2FsZSIsInJvdGF0ZSIsInJvdGF0ZVgiLCJyb3RhdGVZIiwicm90YXRlWiIsInBlcnNwZWN0aXZlIiwiU1VQUE9SVEVEX0lOVEVSUE9MQVRJT05fUEFSQU1TIiwiaW5wdXRSYW5nZSIsIm91dHB1dFJhbmdlIiwiZXh0cmFwb2xhdGUiLCJleHRyYXBvbGF0ZVJpZ2h0IiwiZXh0cmFwb2xhdGVMZWZ0IiwiYWRkV2hpdGVsaXN0ZWRTdHlsZVByb3AiLCJwcm9wIiwiYWRkV2hpdGVsaXN0ZWRUcmFuc2Zvcm1Qcm9wIiwiYWRkV2hpdGVsaXN0ZWRJbnRlcnBvbGF0aW9uUGFyYW0iLCJwYXJhbSIsImlzU3VwcG9ydGVkQ29sb3JTdHlsZVByb3AiLCJoYXNPd25Qcm9wZXJ0eSIsImlzU3VwcG9ydGVkU3R5bGVQcm9wIiwiaXNTdXBwb3J0ZWRUcmFuc2Zvcm1Qcm9wIiwiaXNTdXBwb3J0ZWRJbnRlcnBvbGF0aW9uUGFyYW0iLCJ2YWxpZGF0ZVRyYW5zZm9ybSIsImNvbmZpZ3MiLCJmb3JFYWNoIiwicHJvcGVydHkiLCJFcnJvciIsInZhbGlkYXRlU3R5bGVzIiwic3R5bGVzIiwia2V5IiwidmFsaWRhdGVJbnRlcnBvbGF0aW9uIiwiZ2VuZXJhdGVOZXdOb2RlVGFnIiwiZ2VuZXJhdGVOZXdBbmltYXRpb25JZCIsImFzc2VydE5hdGl2ZUFuaW1hdGVkTW9kdWxlIiwiX3dhcm5lZE1pc3NpbmdOYXRpdmVBbmltYXRlZCIsInNob3VsZFVzZU5hdGl2ZURyaXZlciIsInVzZU5hdGl2ZURyaXZlciIsImNvbnNvbGUiLCJ3YXJuIiwidHJhbnNmb3JtRGF0YVR5cGUiLCJ0ZXN0IiwiZGVncmVlcyIsInBhcnNlRmxvYXQiLCJyYWRpYW5zIiwiTWF0aCIsIlBJIiwibW9kdWxlIiwiZXhwb3J0cyIsIk5hdGl2ZUV2ZW50RW1pdHRlciJdLCJzb3VyY2VzIjpbIk5hdGl2ZUFuaW1hdGVkSGVscGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZmxvdyBzdHJpY3QtbG9jYWxcbiAqIEBmb3JtYXRcbiAqL1xuXG5pbXBvcnQgTmF0aXZlQW5pbWF0ZWROb25UdXJib01vZHVsZSBmcm9tICcuL05hdGl2ZUFuaW1hdGVkTW9kdWxlJztcbmltcG9ydCBOYXRpdmVBbmltYXRlZFR1cmJvTW9kdWxlIGZyb20gJy4vTmF0aXZlQW5pbWF0ZWRUdXJib01vZHVsZSc7XG5pbXBvcnQgTmF0aXZlRXZlbnRFbWl0dGVyIGZyb20gJy4uL0V2ZW50RW1pdHRlci9OYXRpdmVFdmVudEVtaXR0ZXInO1xuaW1wb3J0IFBsYXRmb3JtIGZyb20gJy4uL1V0aWxpdGllcy9QbGF0Zm9ybSc7XG5pbXBvcnQgdHlwZSB7RXZlbnRDb25maWd9IGZyb20gJy4vQW5pbWF0ZWRFdmVudCc7XG5pbXBvcnQgdHlwZSB7XG4gIEV2ZW50TWFwcGluZyxcbiAgQW5pbWF0ZWROb2RlQ29uZmlnLFxuICBBbmltYXRpbmdOb2RlQ29uZmlnLFxufSBmcm9tICcuL05hdGl2ZUFuaW1hdGVkTW9kdWxlJztcbmltcG9ydCB0eXBlIHtBbmltYXRpb25Db25maWcsIEVuZENhbGxiYWNrfSBmcm9tICcuL2FuaW1hdGlvbnMvQW5pbWF0aW9uJztcbmltcG9ydCB0eXBlIHtJbnRlcnBvbGF0aW9uQ29uZmlnVHlwZX0gZnJvbSAnLi9ub2Rlcy9BbmltYXRlZEludGVycG9sYXRpb24nO1xuaW1wb3J0IGludmFyaWFudCBmcm9tICdpbnZhcmlhbnQnO1xuXG4vLyBUT0RPIFQ2OTQzNzE1MiBAcGV0ZXRoZWhlYXQgLSBEZWxldGUgdGhpcyBmb3JrIHdoZW4gRmFicmljIHNoaXBzIHRvIDEwMCUuXG5jb25zdCBOYXRpdmVBbmltYXRlZE1vZHVsZSA9XG4gIFBsYXRmb3JtLk9TID09PSAnaW9zJyAmJiBnbG9iYWwuUk4kQnJpZGdlbGVzcyA9PT0gdHJ1ZVxuICAgID8gTmF0aXZlQW5pbWF0ZWRUdXJib01vZHVsZVxuICAgIDogTmF0aXZlQW5pbWF0ZWROb25UdXJib01vZHVsZTtcblxubGV0IF9fbmF0aXZlQW5pbWF0ZWROb2RlVGFnQ291bnQgPSAxOyAvKiB1c2VkIGZvciBhbmltYXRlZCBub2RlcyAqL1xubGV0IF9fbmF0aXZlQW5pbWF0aW9uSWRDb3VudCA9IDE7IC8qIHVzZWQgZm9yIHN0YXJ0ZWQgYW5pbWF0aW9ucyAqL1xuXG5sZXQgbmF0aXZlRXZlbnRFbWl0dGVyO1xuXG5sZXQgd2FpdGluZ0ZvclF1ZXVlZE9wZXJhdGlvbnMgPSBuZXcgU2V0KCk7XG5sZXQgcXVldWVPcGVyYXRpb25zID0gZmFsc2U7XG5sZXQgcXVldWU6IEFycmF5PCgpID0+IHZvaWQ+ID0gW107XG5cbi8qKlxuICogU2ltcGxlIHdyYXBwZXJzIGFyb3VuZCBOYXRpdmVBbmltYXRlZE1vZHVsZSB0byBwcm92aWRlIGZsb3cgYW5kIGF1dG9jb21wbGV0ZSBzdXBwb3J0IGZvclxuICogdGhlIG5hdGl2ZSBtb2R1bGUgbWV0aG9kc1xuICovXG5jb25zdCBBUEkgPSB7XG4gIGdldFZhbHVlOiBmdW5jdGlvbiAoXG4gICAgdGFnOiBudW1iZXIsXG4gICAgc2F2ZVZhbHVlQ2FsbGJhY2s6ICh2YWx1ZTogbnVtYmVyKSA9PiB2b2lkLFxuICApOiB2b2lkIHtcbiAgICBpbnZhcmlhbnQoTmF0aXZlQW5pbWF0ZWRNb2R1bGUsICdOYXRpdmUgYW5pbWF0ZWQgbW9kdWxlIGlzIG5vdCBhdmFpbGFibGUnKTtcbiAgICBBUEkucXVldWVPcGVyYXRpb24oKCkgPT4ge1xuICAgICAgTmF0aXZlQW5pbWF0ZWRNb2R1bGUuZ2V0VmFsdWUodGFnLCBzYXZlVmFsdWVDYWxsYmFjayk7XG4gICAgfSk7XG4gIH0sXG4gIHNldFdhaXRpbmdGb3JJZGVudGlmaWVyOiBmdW5jdGlvbiAoaWQ6IHN0cmluZyk6IHZvaWQge1xuICAgIHdhaXRpbmdGb3JRdWV1ZWRPcGVyYXRpb25zLmFkZChpZCk7XG4gICAgcXVldWVPcGVyYXRpb25zID0gdHJ1ZTtcbiAgfSxcbiAgdW5zZXRXYWl0aW5nRm9ySWRlbnRpZmllcjogZnVuY3Rpb24gKGlkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB3YWl0aW5nRm9yUXVldWVkT3BlcmF0aW9ucy5kZWxldGUoaWQpO1xuXG4gICAgaWYgKHdhaXRpbmdGb3JRdWV1ZWRPcGVyYXRpb25zLnNpemUgPT09IDApIHtcbiAgICAgIHF1ZXVlT3BlcmF0aW9ucyA9IGZhbHNlO1xuICAgICAgQVBJLmRpc2FibGVRdWV1ZSgpO1xuICAgIH1cbiAgfSxcbiAgZGlzYWJsZVF1ZXVlOiBmdW5jdGlvbiAoKTogdm9pZCB7XG4gICAgaW52YXJpYW50KE5hdGl2ZUFuaW1hdGVkTW9kdWxlLCAnTmF0aXZlIGFuaW1hdGVkIG1vZHVsZSBpcyBub3QgYXZhaWxhYmxlJyk7XG5cbiAgICBpZiAoUGxhdGZvcm0uT1MgPT09ICdhbmRyb2lkJykge1xuICAgICAgTmF0aXZlQW5pbWF0ZWRNb2R1bGUuc3RhcnRPcGVyYXRpb25CYXRjaCgpO1xuICAgIH1cbiAgICBmb3IgKGxldCBxID0gMCwgbCA9IHF1ZXVlLmxlbmd0aDsgcSA8IGw7IHErKykge1xuICAgICAgcXVldWVbcV0oKTtcbiAgICB9XG4gICAgcXVldWUubGVuZ3RoID0gMDtcbiAgICBpZiAoUGxhdGZvcm0uT1MgPT09ICdhbmRyb2lkJykge1xuICAgICAgTmF0aXZlQW5pbWF0ZWRNb2R1bGUuZmluaXNoT3BlcmF0aW9uQmF0Y2goKTtcbiAgICB9XG4gIH0sXG4gIHF1ZXVlT3BlcmF0aW9uOiAoZm46ICgpID0+IHZvaWQpOiB2b2lkID0+IHtcbiAgICBpZiAocXVldWVPcGVyYXRpb25zKSB7XG4gICAgICBxdWV1ZS5wdXNoKGZuKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm4oKTtcbiAgICB9XG4gIH0sXG4gIGNyZWF0ZUFuaW1hdGVkTm9kZTogZnVuY3Rpb24gKHRhZzogbnVtYmVyLCBjb25maWc6IEFuaW1hdGVkTm9kZUNvbmZpZyk6IHZvaWQge1xuICAgIGludmFyaWFudChOYXRpdmVBbmltYXRlZE1vZHVsZSwgJ05hdGl2ZSBhbmltYXRlZCBtb2R1bGUgaXMgbm90IGF2YWlsYWJsZScpO1xuICAgIEFQSS5xdWV1ZU9wZXJhdGlvbigoKSA9PlxuICAgICAgTmF0aXZlQW5pbWF0ZWRNb2R1bGUuY3JlYXRlQW5pbWF0ZWROb2RlKHRhZywgY29uZmlnKSxcbiAgICApO1xuICB9LFxuICB1cGRhdGVBbmltYXRlZE5vZGVDb25maWc6IGZ1bmN0aW9uIChcbiAgICB0YWc6IG51bWJlcixcbiAgICBjb25maWc6IEFuaW1hdGVkTm9kZUNvbmZpZyxcbiAgKTogdm9pZCB7XG4gICAgaW52YXJpYW50KE5hdGl2ZUFuaW1hdGVkTW9kdWxlLCAnTmF0aXZlIGFuaW1hdGVkIG1vZHVsZSBpcyBub3QgYXZhaWxhYmxlJyk7XG4gICAgaWYgKHR5cGVvZiBOYXRpdmVBbmltYXRlZE1vZHVsZS51cGRhdGVBbmltYXRlZE5vZGVDb25maWcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIEFQSS5xdWV1ZU9wZXJhdGlvbigoKSA9PlxuICAgICAgICAvLyAkRmxvd0lnbm9yZVtub3QtYS1mdW5jdGlvbl0gLSBjaGVja2VkIGFib3ZlXG4gICAgICAgIE5hdGl2ZUFuaW1hdGVkTW9kdWxlLnVwZGF0ZUFuaW1hdGVkTm9kZUNvbmZpZyh0YWcsIGNvbmZpZyksXG4gICAgICApO1xuICAgIH1cbiAgfSxcbiAgc3RhcnRMaXN0ZW5pbmdUb0FuaW1hdGVkTm9kZVZhbHVlOiBmdW5jdGlvbiAodGFnOiBudW1iZXIpIHtcbiAgICBpbnZhcmlhbnQoTmF0aXZlQW5pbWF0ZWRNb2R1bGUsICdOYXRpdmUgYW5pbWF0ZWQgbW9kdWxlIGlzIG5vdCBhdmFpbGFibGUnKTtcbiAgICBBUEkucXVldWVPcGVyYXRpb24oKCkgPT5cbiAgICAgIE5hdGl2ZUFuaW1hdGVkTW9kdWxlLnN0YXJ0TGlzdGVuaW5nVG9BbmltYXRlZE5vZGVWYWx1ZSh0YWcpLFxuICAgICk7XG4gIH0sXG4gIHN0b3BMaXN0ZW5pbmdUb0FuaW1hdGVkTm9kZVZhbHVlOiBmdW5jdGlvbiAodGFnOiBudW1iZXIpIHtcbiAgICBpbnZhcmlhbnQoTmF0aXZlQW5pbWF0ZWRNb2R1bGUsICdOYXRpdmUgYW5pbWF0ZWQgbW9kdWxlIGlzIG5vdCBhdmFpbGFibGUnKTtcbiAgICBBUEkucXVldWVPcGVyYXRpb24oKCkgPT5cbiAgICAgIE5hdGl2ZUFuaW1hdGVkTW9kdWxlLnN0b3BMaXN0ZW5pbmdUb0FuaW1hdGVkTm9kZVZhbHVlKHRhZyksXG4gICAgKTtcbiAgfSxcbiAgY29ubmVjdEFuaW1hdGVkTm9kZXM6IGZ1bmN0aW9uIChwYXJlbnRUYWc6IG51bWJlciwgY2hpbGRUYWc6IG51bWJlcik6IHZvaWQge1xuICAgIGludmFyaWFudChOYXRpdmVBbmltYXRlZE1vZHVsZSwgJ05hdGl2ZSBhbmltYXRlZCBtb2R1bGUgaXMgbm90IGF2YWlsYWJsZScpO1xuICAgIEFQSS5xdWV1ZU9wZXJhdGlvbigoKSA9PlxuICAgICAgTmF0aXZlQW5pbWF0ZWRNb2R1bGUuY29ubmVjdEFuaW1hdGVkTm9kZXMocGFyZW50VGFnLCBjaGlsZFRhZyksXG4gICAgKTtcbiAgfSxcbiAgZGlzY29ubmVjdEFuaW1hdGVkTm9kZXM6IGZ1bmN0aW9uIChcbiAgICBwYXJlbnRUYWc6IG51bWJlcixcbiAgICBjaGlsZFRhZzogbnVtYmVyLFxuICApOiB2b2lkIHtcbiAgICBpbnZhcmlhbnQoTmF0aXZlQW5pbWF0ZWRNb2R1bGUsICdOYXRpdmUgYW5pbWF0ZWQgbW9kdWxlIGlzIG5vdCBhdmFpbGFibGUnKTtcbiAgICBBUEkucXVldWVPcGVyYXRpb24oKCkgPT5cbiAgICAgIE5hdGl2ZUFuaW1hdGVkTW9kdWxlLmRpc2Nvbm5lY3RBbmltYXRlZE5vZGVzKHBhcmVudFRhZywgY2hpbGRUYWcpLFxuICAgICk7XG4gIH0sXG4gIHN0YXJ0QW5pbWF0aW5nTm9kZTogZnVuY3Rpb24gKFxuICAgIGFuaW1hdGlvbklkOiBudW1iZXIsXG4gICAgbm9kZVRhZzogbnVtYmVyLFxuICAgIGNvbmZpZzogQW5pbWF0aW5nTm9kZUNvbmZpZyxcbiAgICBlbmRDYWxsYmFjazogRW5kQ2FsbGJhY2ssXG4gICk6IHZvaWQge1xuICAgIGludmFyaWFudChOYXRpdmVBbmltYXRlZE1vZHVsZSwgJ05hdGl2ZSBhbmltYXRlZCBtb2R1bGUgaXMgbm90IGF2YWlsYWJsZScpO1xuICAgIEFQSS5xdWV1ZU9wZXJhdGlvbigoKSA9PlxuICAgICAgTmF0aXZlQW5pbWF0ZWRNb2R1bGUuc3RhcnRBbmltYXRpbmdOb2RlKFxuICAgICAgICBhbmltYXRpb25JZCxcbiAgICAgICAgbm9kZVRhZyxcbiAgICAgICAgY29uZmlnLFxuICAgICAgICBlbmRDYWxsYmFjayxcbiAgICAgICksXG4gICAgKTtcbiAgfSxcbiAgc3RvcEFuaW1hdGlvbjogZnVuY3Rpb24gKGFuaW1hdGlvbklkOiBudW1iZXIpIHtcbiAgICBpbnZhcmlhbnQoTmF0aXZlQW5pbWF0ZWRNb2R1bGUsICdOYXRpdmUgYW5pbWF0ZWQgbW9kdWxlIGlzIG5vdCBhdmFpbGFibGUnKTtcbiAgICBBUEkucXVldWVPcGVyYXRpb24oKCkgPT4gTmF0aXZlQW5pbWF0ZWRNb2R1bGUuc3RvcEFuaW1hdGlvbihhbmltYXRpb25JZCkpO1xuICB9LFxuICBzZXRBbmltYXRlZE5vZGVWYWx1ZTogZnVuY3Rpb24gKG5vZGVUYWc6IG51bWJlciwgdmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIGludmFyaWFudChOYXRpdmVBbmltYXRlZE1vZHVsZSwgJ05hdGl2ZSBhbmltYXRlZCBtb2R1bGUgaXMgbm90IGF2YWlsYWJsZScpO1xuICAgIEFQSS5xdWV1ZU9wZXJhdGlvbigoKSA9PlxuICAgICAgTmF0aXZlQW5pbWF0ZWRNb2R1bGUuc2V0QW5pbWF0ZWROb2RlVmFsdWUobm9kZVRhZywgdmFsdWUpLFxuICAgICk7XG4gIH0sXG4gIHNldEFuaW1hdGVkTm9kZU9mZnNldDogZnVuY3Rpb24gKG5vZGVUYWc6IG51bWJlciwgb2Zmc2V0OiBudW1iZXIpOiB2b2lkIHtcbiAgICBpbnZhcmlhbnQoTmF0aXZlQW5pbWF0ZWRNb2R1bGUsICdOYXRpdmUgYW5pbWF0ZWQgbW9kdWxlIGlzIG5vdCBhdmFpbGFibGUnKTtcbiAgICBBUEkucXVldWVPcGVyYXRpb24oKCkgPT5cbiAgICAgIE5hdGl2ZUFuaW1hdGVkTW9kdWxlLnNldEFuaW1hdGVkTm9kZU9mZnNldChub2RlVGFnLCBvZmZzZXQpLFxuICAgICk7XG4gIH0sXG4gIGZsYXR0ZW5BbmltYXRlZE5vZGVPZmZzZXQ6IGZ1bmN0aW9uIChub2RlVGFnOiBudW1iZXIpOiB2b2lkIHtcbiAgICBpbnZhcmlhbnQoTmF0aXZlQW5pbWF0ZWRNb2R1bGUsICdOYXRpdmUgYW5pbWF0ZWQgbW9kdWxlIGlzIG5vdCBhdmFpbGFibGUnKTtcbiAgICBBUEkucXVldWVPcGVyYXRpb24oKCkgPT5cbiAgICAgIE5hdGl2ZUFuaW1hdGVkTW9kdWxlLmZsYXR0ZW5BbmltYXRlZE5vZGVPZmZzZXQobm9kZVRhZyksXG4gICAgKTtcbiAgfSxcbiAgZXh0cmFjdEFuaW1hdGVkTm9kZU9mZnNldDogZnVuY3Rpb24gKG5vZGVUYWc6IG51bWJlcik6IHZvaWQge1xuICAgIGludmFyaWFudChOYXRpdmVBbmltYXRlZE1vZHVsZSwgJ05hdGl2ZSBhbmltYXRlZCBtb2R1bGUgaXMgbm90IGF2YWlsYWJsZScpO1xuICAgIEFQSS5xdWV1ZU9wZXJhdGlvbigoKSA9PlxuICAgICAgTmF0aXZlQW5pbWF0ZWRNb2R1bGUuZXh0cmFjdEFuaW1hdGVkTm9kZU9mZnNldChub2RlVGFnKSxcbiAgICApO1xuICB9LFxuICBjb25uZWN0QW5pbWF0ZWROb2RlVG9WaWV3OiBmdW5jdGlvbiAobm9kZVRhZzogbnVtYmVyLCB2aWV3VGFnOiBudW1iZXIpOiB2b2lkIHtcbiAgICBpbnZhcmlhbnQoTmF0aXZlQW5pbWF0ZWRNb2R1bGUsICdOYXRpdmUgYW5pbWF0ZWQgbW9kdWxlIGlzIG5vdCBhdmFpbGFibGUnKTtcbiAgICBBUEkucXVldWVPcGVyYXRpb24oKCkgPT5cbiAgICAgIE5hdGl2ZUFuaW1hdGVkTW9kdWxlLmNvbm5lY3RBbmltYXRlZE5vZGVUb1ZpZXcobm9kZVRhZywgdmlld1RhZyksXG4gICAgKTtcbiAgfSxcbiAgZGlzY29ubmVjdEFuaW1hdGVkTm9kZUZyb21WaWV3OiBmdW5jdGlvbiAoXG4gICAgbm9kZVRhZzogbnVtYmVyLFxuICAgIHZpZXdUYWc6IG51bWJlcixcbiAgKTogdm9pZCB7XG4gICAgaW52YXJpYW50KE5hdGl2ZUFuaW1hdGVkTW9kdWxlLCAnTmF0aXZlIGFuaW1hdGVkIG1vZHVsZSBpcyBub3QgYXZhaWxhYmxlJyk7XG4gICAgQVBJLnF1ZXVlT3BlcmF0aW9uKCgpID0+XG4gICAgICBOYXRpdmVBbmltYXRlZE1vZHVsZS5kaXNjb25uZWN0QW5pbWF0ZWROb2RlRnJvbVZpZXcobm9kZVRhZywgdmlld1RhZyksXG4gICAgKTtcbiAgfSxcbiAgcmVzdG9yZURlZmF1bHRWYWx1ZXM6IGZ1bmN0aW9uIChub2RlVGFnOiBudW1iZXIpOiB2b2lkIHtcbiAgICBpbnZhcmlhbnQoTmF0aXZlQW5pbWF0ZWRNb2R1bGUsICdOYXRpdmUgYW5pbWF0ZWQgbW9kdWxlIGlzIG5vdCBhdmFpbGFibGUnKTtcbiAgICAvLyBCYWNrd2FyZHMgY29tcGF0IHdpdGggb2xkZXIgbmF0aXZlIHJ1bnRpbWVzLCBjYW4gYmUgcmVtb3ZlZCBsYXRlci5cbiAgICBpZiAoTmF0aXZlQW5pbWF0ZWRNb2R1bGUucmVzdG9yZURlZmF1bHRWYWx1ZXMgIT0gbnVsbCkge1xuICAgICAgQVBJLnF1ZXVlT3BlcmF0aW9uKCgpID0+XG4gICAgICAgIE5hdGl2ZUFuaW1hdGVkTW9kdWxlLnJlc3RvcmVEZWZhdWx0VmFsdWVzKG5vZGVUYWcpLFxuICAgICAgKTtcbiAgICB9XG4gIH0sXG4gIGRyb3BBbmltYXRlZE5vZGU6IGZ1bmN0aW9uICh0YWc6IG51bWJlcik6IHZvaWQge1xuICAgIGludmFyaWFudChOYXRpdmVBbmltYXRlZE1vZHVsZSwgJ05hdGl2ZSBhbmltYXRlZCBtb2R1bGUgaXMgbm90IGF2YWlsYWJsZScpO1xuICAgIEFQSS5xdWV1ZU9wZXJhdGlvbigoKSA9PiBOYXRpdmVBbmltYXRlZE1vZHVsZS5kcm9wQW5pbWF0ZWROb2RlKHRhZykpO1xuICB9LFxuICBhZGRBbmltYXRlZEV2ZW50VG9WaWV3OiBmdW5jdGlvbiAoXG4gICAgdmlld1RhZzogbnVtYmVyLFxuICAgIGV2ZW50TmFtZTogc3RyaW5nLFxuICAgIGV2ZW50TWFwcGluZzogRXZlbnRNYXBwaW5nLFxuICApIHtcbiAgICBpbnZhcmlhbnQoTmF0aXZlQW5pbWF0ZWRNb2R1bGUsICdOYXRpdmUgYW5pbWF0ZWQgbW9kdWxlIGlzIG5vdCBhdmFpbGFibGUnKTtcbiAgICBBUEkucXVldWVPcGVyYXRpb24oKCkgPT5cbiAgICAgIE5hdGl2ZUFuaW1hdGVkTW9kdWxlLmFkZEFuaW1hdGVkRXZlbnRUb1ZpZXcoXG4gICAgICAgIHZpZXdUYWcsXG4gICAgICAgIGV2ZW50TmFtZSxcbiAgICAgICAgZXZlbnRNYXBwaW5nLFxuICAgICAgKSxcbiAgICApO1xuICB9LFxuICByZW1vdmVBbmltYXRlZEV2ZW50RnJvbVZpZXcoXG4gICAgdmlld1RhZzogbnVtYmVyLFxuICAgIGV2ZW50TmFtZTogc3RyaW5nLFxuICAgIGFuaW1hdGVkTm9kZVRhZzogbnVtYmVyLFxuICApIHtcbiAgICBpbnZhcmlhbnQoTmF0aXZlQW5pbWF0ZWRNb2R1bGUsICdOYXRpdmUgYW5pbWF0ZWQgbW9kdWxlIGlzIG5vdCBhdmFpbGFibGUnKTtcbiAgICBBUEkucXVldWVPcGVyYXRpb24oKCkgPT5cbiAgICAgIE5hdGl2ZUFuaW1hdGVkTW9kdWxlLnJlbW92ZUFuaW1hdGVkRXZlbnRGcm9tVmlldyhcbiAgICAgICAgdmlld1RhZyxcbiAgICAgICAgZXZlbnROYW1lLFxuICAgICAgICBhbmltYXRlZE5vZGVUYWcsXG4gICAgICApLFxuICAgICk7XG4gIH0sXG59O1xuXG4vKipcbiAqIFN0eWxlcyBhbGxvd2VkIGJ5IHRoZSBuYXRpdmUgYW5pbWF0ZWQgaW1wbGVtZW50YXRpb24uXG4gKlxuICogSW4gZ2VuZXJhbCBuYXRpdmUgYW5pbWF0ZWQgaW1wbGVtZW50YXRpb24gc2hvdWxkIHN1cHBvcnQgYW55IG51bWVyaWMgb3IgY29sb3IgcHJvcGVydHkgdGhhdFxuICogZG9lc24ndCBuZWVkIHRvIGJlIHVwZGF0ZWQgdGhyb3VnaCB0aGUgc2hhZG93IHZpZXcgaGllcmFyY2h5IChhbGwgbm9uLWxheW91dCBwcm9wZXJ0aWVzKS5cbiAqL1xuY29uc3QgU1VQUE9SVEVEX0NPTE9SX1NUWUxFUyA9IHtcbiAgYmFja2dyb3VuZENvbG9yOiB0cnVlLFxuICBib3JkZXJCb3R0b21Db2xvcjogdHJ1ZSxcbiAgYm9yZGVyQ29sb3I6IHRydWUsXG4gIGJvcmRlckVuZENvbG9yOiB0cnVlLFxuICBib3JkZXJMZWZ0Q29sb3I6IHRydWUsXG4gIGJvcmRlclJpZ2h0Q29sb3I6IHRydWUsXG4gIGJvcmRlclN0YXJ0Q29sb3I6IHRydWUsXG4gIGJvcmRlclRvcENvbG9yOiB0cnVlLFxuICBjb2xvcjogdHJ1ZSxcbiAgdGludENvbG9yOiB0cnVlLFxufTtcblxuY29uc3QgU1VQUE9SVEVEX1NUWUxFUyA9IHtcbiAgLi4uU1VQUE9SVEVEX0NPTE9SX1NUWUxFUyxcbiAgYm9yZGVyQm90dG9tRW5kUmFkaXVzOiB0cnVlLFxuICBib3JkZXJCb3R0b21MZWZ0UmFkaXVzOiB0cnVlLFxuICBib3JkZXJCb3R0b21SaWdodFJhZGl1czogdHJ1ZSxcbiAgYm9yZGVyQm90dG9tU3RhcnRSYWRpdXM6IHRydWUsXG4gIGJvcmRlclJhZGl1czogdHJ1ZSxcbiAgYm9yZGVyVG9wRW5kUmFkaXVzOiB0cnVlLFxuICBib3JkZXJUb3BMZWZ0UmFkaXVzOiB0cnVlLFxuICBib3JkZXJUb3BSaWdodFJhZGl1czogdHJ1ZSxcbiAgYm9yZGVyVG9wU3RhcnRSYWRpdXM6IHRydWUsXG4gIGVsZXZhdGlvbjogdHJ1ZSxcbiAgb3BhY2l0eTogdHJ1ZSxcbiAgdHJhbnNmb3JtOiB0cnVlLFxuICB6SW5kZXg6IHRydWUsXG4gIC8qIGlvcyBzdHlsZXMgKi9cbiAgc2hhZG93T3BhY2l0eTogdHJ1ZSxcbiAgc2hhZG93UmFkaXVzOiB0cnVlLFxuICAvKiBsZWdhY3kgYW5kcm9pZCB0cmFuc2Zvcm0gcHJvcGVydGllcyAqL1xuICBzY2FsZVg6IHRydWUsXG4gIHNjYWxlWTogdHJ1ZSxcbiAgdHJhbnNsYXRlWDogdHJ1ZSxcbiAgdHJhbnNsYXRlWTogdHJ1ZSxcbn07XG5cbmNvbnN0IFNVUFBPUlRFRF9UUkFOU0ZPUk1TID0ge1xuICB0cmFuc2xhdGVYOiB0cnVlLFxuICB0cmFuc2xhdGVZOiB0cnVlLFxuICBzY2FsZTogdHJ1ZSxcbiAgc2NhbGVYOiB0cnVlLFxuICBzY2FsZVk6IHRydWUsXG4gIHJvdGF0ZTogdHJ1ZSxcbiAgcm90YXRlWDogdHJ1ZSxcbiAgcm90YXRlWTogdHJ1ZSxcbiAgcm90YXRlWjogdHJ1ZSxcbiAgcGVyc3BlY3RpdmU6IHRydWUsXG59O1xuXG5jb25zdCBTVVBQT1JURURfSU5URVJQT0xBVElPTl9QQVJBTVMgPSB7XG4gIGlucHV0UmFuZ2U6IHRydWUsXG4gIG91dHB1dFJhbmdlOiB0cnVlLFxuICBleHRyYXBvbGF0ZTogdHJ1ZSxcbiAgZXh0cmFwb2xhdGVSaWdodDogdHJ1ZSxcbiAgZXh0cmFwb2xhdGVMZWZ0OiB0cnVlLFxufTtcblxuZnVuY3Rpb24gYWRkV2hpdGVsaXN0ZWRTdHlsZVByb3AocHJvcDogc3RyaW5nKTogdm9pZCB7XG4gIFNVUFBPUlRFRF9TVFlMRVNbcHJvcF0gPSB0cnVlO1xufVxuXG5mdW5jdGlvbiBhZGRXaGl0ZWxpc3RlZFRyYW5zZm9ybVByb3AocHJvcDogc3RyaW5nKTogdm9pZCB7XG4gIFNVUFBPUlRFRF9UUkFOU0ZPUk1TW3Byb3BdID0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gYWRkV2hpdGVsaXN0ZWRJbnRlcnBvbGF0aW9uUGFyYW0ocGFyYW06IHN0cmluZyk6IHZvaWQge1xuICBTVVBQT1JURURfSU5URVJQT0xBVElPTl9QQVJBTVNbcGFyYW1dID0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaXNTdXBwb3J0ZWRDb2xvclN0eWxlUHJvcChwcm9wOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuIFNVUFBPUlRFRF9DT0xPUl9TVFlMRVMuaGFzT3duUHJvcGVydHkocHJvcCk7XG59XG5cbmZ1bmN0aW9uIGlzU3VwcG9ydGVkU3R5bGVQcm9wKHByb3A6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gU1VQUE9SVEVEX1NUWUxFUy5oYXNPd25Qcm9wZXJ0eShwcm9wKTtcbn1cblxuZnVuY3Rpb24gaXNTdXBwb3J0ZWRUcmFuc2Zvcm1Qcm9wKHByb3A6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gU1VQUE9SVEVEX1RSQU5TRk9STVMuaGFzT3duUHJvcGVydHkocHJvcCk7XG59XG5cbmZ1bmN0aW9uIGlzU3VwcG9ydGVkSW50ZXJwb2xhdGlvblBhcmFtKHBhcmFtOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuIFNVUFBPUlRFRF9JTlRFUlBPTEFUSU9OX1BBUkFNUy5oYXNPd25Qcm9wZXJ0eShwYXJhbSk7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlVHJhbnNmb3JtKFxuICBjb25maWdzOiBBcnJheTxcbiAgICB8IHtcbiAgICAgICAgdHlwZTogJ2FuaW1hdGVkJyxcbiAgICAgICAgcHJvcGVydHk6IHN0cmluZyxcbiAgICAgICAgbm9kZVRhZzogP251bWJlcixcbiAgICAgICAgLi4uXG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIHR5cGU6ICdzdGF0aWMnLFxuICAgICAgICBwcm9wZXJ0eTogc3RyaW5nLFxuICAgICAgICB2YWx1ZTogbnVtYmVyIHwgc3RyaW5nLFxuICAgICAgICAuLi5cbiAgICAgIH0sXG4gID4sXG4pOiB2b2lkIHtcbiAgY29uZmlncy5mb3JFYWNoKGNvbmZpZyA9PiB7XG4gICAgaWYgKCFpc1N1cHBvcnRlZFRyYW5zZm9ybVByb3AoY29uZmlnLnByb3BlcnR5KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgUHJvcGVydHkgJyR7Y29uZmlnLnByb3BlcnR5fScgaXMgbm90IHN1cHBvcnRlZCBieSBuYXRpdmUgYW5pbWF0ZWQgbW9kdWxlYCxcbiAgICAgICk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVTdHlsZXMoc3R5bGVzOiB7W2tleTogc3RyaW5nXTogP251bWJlciwgLi4ufSk6IHZvaWQge1xuICBmb3IgKGNvbnN0IGtleSBpbiBzdHlsZXMpIHtcbiAgICBpZiAoIWlzU3VwcG9ydGVkU3R5bGVQcm9wKGtleSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFN0eWxlIHByb3BlcnR5ICcke2tleX0nIGlzIG5vdCBzdXBwb3J0ZWQgYnkgbmF0aXZlIGFuaW1hdGVkIG1vZHVsZWAsXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZUludGVycG9sYXRpb24oY29uZmlnOiBJbnRlcnBvbGF0aW9uQ29uZmlnVHlwZSk6IHZvaWQge1xuICBmb3IgKGNvbnN0IGtleSBpbiBjb25maWcpIHtcbiAgICBpZiAoIWlzU3VwcG9ydGVkSW50ZXJwb2xhdGlvblBhcmFtKGtleSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYEludGVycG9sYXRpb24gcHJvcGVydHkgJyR7a2V5fScgaXMgbm90IHN1cHBvcnRlZCBieSBuYXRpdmUgYW5pbWF0ZWQgbW9kdWxlYCxcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlTmV3Tm9kZVRhZygpOiBudW1iZXIge1xuICByZXR1cm4gX19uYXRpdmVBbmltYXRlZE5vZGVUYWdDb3VudCsrO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZU5ld0FuaW1hdGlvbklkKCk6IG51bWJlciB7XG4gIHJldHVybiBfX25hdGl2ZUFuaW1hdGlvbklkQ291bnQrKztcbn1cblxuZnVuY3Rpb24gYXNzZXJ0TmF0aXZlQW5pbWF0ZWRNb2R1bGUoKTogdm9pZCB7XG4gIGludmFyaWFudChOYXRpdmVBbmltYXRlZE1vZHVsZSwgJ05hdGl2ZSBhbmltYXRlZCBtb2R1bGUgaXMgbm90IGF2YWlsYWJsZScpO1xufVxuXG5sZXQgX3dhcm5lZE1pc3NpbmdOYXRpdmVBbmltYXRlZCA9IGZhbHNlO1xuXG5mdW5jdGlvbiBzaG91bGRVc2VOYXRpdmVEcml2ZXIoXG4gIGNvbmZpZzogJFJlYWRPbmx5PHsuLi5BbmltYXRpb25Db25maWcsIC4uLn0+IHwgRXZlbnRDb25maWcsXG4pOiBib29sZWFuIHtcbiAgaWYgKGNvbmZpZy51c2VOYXRpdmVEcml2ZXIgPT0gbnVsbCkge1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgICdBbmltYXRlZDogYHVzZU5hdGl2ZURyaXZlcmAgd2FzIG5vdCBzcGVjaWZpZWQuIFRoaXMgaXMgYSByZXF1aXJlZCAnICtcbiAgICAgICAgJ29wdGlvbiBhbmQgbXVzdCBiZSBleHBsaWNpdGx5IHNldCB0byBgdHJ1ZWAgb3IgYGZhbHNlYCcsXG4gICAgKTtcbiAgfVxuXG4gIGlmIChjb25maWcudXNlTmF0aXZlRHJpdmVyID09PSB0cnVlICYmICFOYXRpdmVBbmltYXRlZE1vZHVsZSkge1xuICAgIGlmICghX3dhcm5lZE1pc3NpbmdOYXRpdmVBbmltYXRlZCkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAnQW5pbWF0ZWQ6IGB1c2VOYXRpdmVEcml2ZXJgIGlzIG5vdCBzdXBwb3J0ZWQgYmVjYXVzZSB0aGUgbmF0aXZlICcgK1xuICAgICAgICAgICdhbmltYXRlZCBtb2R1bGUgaXMgbWlzc2luZy4gRmFsbGluZyBiYWNrIHRvIEpTLWJhc2VkIGFuaW1hdGlvbi4gVG8gJyArXG4gICAgICAgICAgJ3Jlc29sdmUgdGhpcywgYWRkIGBSQ1RBbmltYXRpb25gIG1vZHVsZSB0byB0aGlzIGFwcCwgb3IgcmVtb3ZlICcgK1xuICAgICAgICAgICdgdXNlTmF0aXZlRHJpdmVyYC4gJyArXG4gICAgICAgICAgJ01ha2Ugc3VyZSB0byBydW4gYGJ1bmRsZSBleGVjIHBvZCBpbnN0YWxsYCBmaXJzdC4gUmVhZCBtb3JlIGFib3V0IGF1dG9saW5raW5nOiBodHRwczovL2dpdGh1Yi5jb20vcmVhY3QtbmF0aXZlLWNvbW11bml0eS9jbGkvYmxvYi9tYXN0ZXIvZG9jcy9hdXRvbGlua2luZy5tZCcsXG4gICAgICApO1xuICAgICAgX3dhcm5lZE1pc3NpbmdOYXRpdmVBbmltYXRlZCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBjb25maWcudXNlTmF0aXZlRHJpdmVyIHx8IGZhbHNlO1xufVxuXG5mdW5jdGlvbiB0cmFuc2Zvcm1EYXRhVHlwZSh2YWx1ZTogbnVtYmVyIHwgc3RyaW5nKTogbnVtYmVyIHwgc3RyaW5nIHtcbiAgLy8gQ2hhbmdlIHRoZSBzdHJpbmcgdHlwZSB0byBudW1iZXIgdHlwZSBzbyB3ZSBjYW4gcmV1c2UgdGhlIHNhbWUgbG9naWMgaW5cbiAgLy8gaU9TIGFuZCBBbmRyb2lkIHBsYXRmb3JtXG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmICgvZGVnJC8udGVzdCh2YWx1ZSkpIHtcbiAgICBjb25zdCBkZWdyZWVzID0gcGFyc2VGbG9hdCh2YWx1ZSkgfHwgMDtcbiAgICBjb25zdCByYWRpYW5zID0gKGRlZ3JlZXMgKiBNYXRoLlBJKSAvIDE4MC4wO1xuICAgIHJldHVybiByYWRpYW5zO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgQVBJLFxuICBpc1N1cHBvcnRlZENvbG9yU3R5bGVQcm9wLFxuICBpc1N1cHBvcnRlZFN0eWxlUHJvcCxcbiAgaXNTdXBwb3J0ZWRUcmFuc2Zvcm1Qcm9wLFxuICBpc1N1cHBvcnRlZEludGVycG9sYXRpb25QYXJhbSxcbiAgYWRkV2hpdGVsaXN0ZWRTdHlsZVByb3AsXG4gIGFkZFdoaXRlbGlzdGVkVHJhbnNmb3JtUHJvcCxcbiAgYWRkV2hpdGVsaXN0ZWRJbnRlcnBvbGF0aW9uUGFyYW0sXG4gIHZhbGlkYXRlU3R5bGVzLFxuICB2YWxpZGF0ZVRyYW5zZm9ybSxcbiAgdmFsaWRhdGVJbnRlcnBvbGF0aW9uLFxuICBnZW5lcmF0ZU5ld05vZGVUYWcsXG4gIGdlbmVyYXRlTmV3QW5pbWF0aW9uSWQsXG4gIGFzc2VydE5hdGl2ZUFuaW1hdGVkTW9kdWxlLFxuICBzaG91bGRVc2VOYXRpdmVEcml2ZXIsXG4gIHRyYW5zZm9ybURhdGFUeXBlLFxuICAvLyAkRmxvd0V4cGVjdGVkRXJyb3JbdW5zYWZlLWdldHRlcnMtc2V0dGVyc10gLSB1bnNhZmUgZ2V0dGVyIGxpbnQgc3VwcHJlc2lvblxuICAvLyAkRmxvd0V4cGVjdGVkRXJyb3JbbWlzc2luZy10eXBlLWFyZ10gLSB1bnNhZmUgZ2V0dGVyIGxpbnQgc3VwcHJlc2lvblxuICBnZXQgbmF0aXZlRXZlbnRFbWl0dGVyKCk6IE5hdGl2ZUV2ZW50RW1pdHRlciB7XG4gICAgaWYgKCFuYXRpdmVFdmVudEVtaXR0ZXIpIHtcbiAgICAgIG5hdGl2ZUV2ZW50RW1pdHRlciA9IG5ldyBOYXRpdmVFdmVudEVtaXR0ZXIoXG4gICAgICAgIC8vIFQ4ODcxNTA2MzogTmF0aXZlRXZlbnRFbWl0dGVyIG9ubHkgdXNlZCB0aGlzIHBhcmFtZXRlciBvbiBpT1MuIE5vdyBpdCB1c2VzIGl0IG9uIGFsbCBwbGF0Zm9ybXMsIHNvIHRoaXMgY29kZSB3YXMgbW9kaWZpZWQgYXV0b21hdGljYWxseSB0byBwcmVzZXJ2ZSBpdHMgYmVoYXZpb3JcbiAgICAgICAgLy8gSWYgeW91IHdhbnQgdG8gdXNlIHRoZSBuYXRpdmUgbW9kdWxlIG9uIG90aGVyIHBsYXRmb3JtcywgcGxlYXNlIHJlbW92ZSB0aGlzIGNvbmRpdGlvbiBhbmQgdGVzdCBpdHMgYmVoYXZpb3JcbiAgICAgICAgUGxhdGZvcm0uT1MgIT09ICdpb3MnID8gbnVsbCA6IE5hdGl2ZUFuaW1hdGVkTW9kdWxlLFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIG5hdGl2ZUV2ZW50RW1pdHRlcjtcbiAgfSxcbn07XG4iXSwibWFwcGluZ3MiOiI7O0FBVUE7O0FB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